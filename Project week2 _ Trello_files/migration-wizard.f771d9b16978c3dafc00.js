(window.webpackJsonp=window.webpackJsonp||[]).push([[142,24],{"./app/src/components/MigrationWizard/MigrationWizard.tsx":function(e,n,a){"use strict";a.r(n),a.d(n,"MigrationWizard",(function(){return gi}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./node_modules/js-cookie/src/js.cookie.js"),o=a.n(r),s=a("./app/scripts/debug/constants.ts"),l=a("./app/src/components/ErrorBoundary/index.ts"),d=a("./node_modules/@apollo/client/index.js");function c(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function m(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?c(Object(a),!0).forEach((function(n){u(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function u(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const p={context:{operationName:"TeamlessBoards"}},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamlessBoards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};var g=a("./packages/error-reporting/index.ts");const k=({skip:e}={})=>{var n,a,i;const{data:r,loading:o,error:l}=function(e){const n=m(m({},p),e);return d.useQuery(b,n)}({skip:e});Object(t.useEffect)((()=>{l&&Object(g.sendErrorEvent)(l,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useTeamlessBoards"}})}),[l]);const c=(null==r||null===(n=r.member)||void 0===n?void 0:n.id)||"me",u=(null==r||null===(a=r.member)||void 0===a||null===(i=a.boards)||void 0===i?void 0:i.filter((({memberships:e,enterpriseOwned:n,idOrganization:a})=>!a&&!n&&e.find((({idMember:e,memberType:n})=>e===c&&"admin"===n)))))||[];return{loading:o,error:l,teamlessBoards:u}};var v=a("./app/src/components/Dialog/index.ts");let f,O;!function(e){e.INTRO="intro",e.MOVE_YOUR_BOARDS="move-your-boards",e.BC_FOR_FREE="bc-for-free",e.MEMBERSHIPS="memberships",e.BOARD_VISIBILITY="board-visibility",e.COMPLEX_MOVE_BOARDS="complex-move-boards",e.POST_MIGRATION="post-migration-cleanup",e.DONE="done"}(f||(f={})),function(e){e.Post="post",e.Pre="pre",e.Desktop="desktop",e.Advanced="advanced"}(O||(O={}));var h=a("./packages/browser/index.ts");function y(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function j(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?y(Object(a),!0).forEach((function(n){N(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function N(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const x={context:{operationName:"MigrationWizard"}},E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MigrationWizard"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}},{kind:"Field",name:{kind:"Name",value:"confirmed"}},{kind:"Field",name:{kind:"Name",value:"teamify"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"impact"}},{kind:"Field",name:{kind:"Name",value:"autoMigration"}},{kind:"Field",name:{kind:"Name",value:"collaborativeTeamlessBoards"}},{kind:"Field",name:{kind:"Name",value:"soloTeamlessBoards"}},{kind:"Field",name:{kind:"Name",value:"inCollaborativeOrg"}},{kind:"Field",name:{kind:"Name",value:"voluntaryDone"}},{kind:"Field",name:{kind:"Name",value:"idOrgCreated"}},{kind:"Field",name:{kind:"Name",value:"idOrgSelected"}}]}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]};function _(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function w(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?_(Object(a),!0).forEach((function(n){S(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function S(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const M={context:{operationName:"MigrationWizardDismissPostMigrationBanner"}},B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardDismissPostMigrationBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};function D(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function F(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?D(Object(a),!0).forEach((function(n){I(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function I(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const P={context:{operationName:"MigrationWizardDismissAutoShow"}},z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardDismissAutoShow"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"}}]}}]}}]};const C="teamify-post-migration",T="teamify-auto-show",A={[f.INTRO]:"teamifyIntroModal",[f.MOVE_YOUR_BOARDS]:"teamifyMoveYourBoardsModal",[f.BC_FOR_FREE]:"teamifyBCModal",[f.MEMBERSHIPS]:"teamifyMembershipsModal",[f.BOARD_VISIBILITY]:"teamifyBoardVisibilityModal",[f.COMPLEX_MOVE_BOARDS]:"teamifyComplexMoveBoardsModal",[f.POST_MIGRATION]:"teamifyPostMigrationMoveBoardsModal",[f.DONE]:"teamifyDoneModal"};var W=a("./packages/session-cookie/index.ts");function R(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function V(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?R(Object(a),!0).forEach((function(n){L(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function L(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Y={context:{operationName:"MigratedBoards"}},U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MigratedBoards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]}}]};const J=({idOrg:e,skip:n}={})=>{var a,i;const{data:r,loading:o,error:l,refetch:c}=function(e){const n=V(V({},Y),e);return d.useQuery(U,n)}({variables:{orgId:null!=e?e:""},skip:n||!e});Object(t.useEffect)((()=>{l&&Object(g.sendErrorEvent)(l,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useMigratedBoards"}})}),[l]);const m=Object(t.useMemo)((()=>{var e,n;return{id:null==r||null===(e=r.organization)||void 0===e?void 0:e.id,displayName:null==r||null===(n=r.organization)||void 0===n?void 0:n.displayName}}),[null==r?void 0:r.organization]),u=(null==r||null===(a=r.organization)||void 0===a||null===(i=a.boards)||void 0===i?void 0:i.filter((({memberships:e})=>e.find((({idMember:e})=>e===W.memberId)))))||[];return{loading:o,error:l,migrationOrg:m,migratedBoards:u,refetch:c}};var Z=a("./packages/feature-flag-client/index.ts");function K(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function H(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?K(Object(a),!0).forEach((function(n){X(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function X(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const G=e=>{e&&Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useMigrationWizard"}})},q=({skip:e=!1}={})=>{var n,a,i,r,s,l;const c=Object(Z.useFeatureFlag)("btg.migration-wizard",!1),[m,u]=Object(t.useState)(!1),[p,b]=Object(t.useState)(!1),{data:g,loading:k,error:v,refetch:f}=function(e){const n=j(j({},x),e);return d.useQuery(E,n)}({skip:!c||e});Object(t.useEffect)((()=>{G(v)}),[v]);const y=null==g?void 0:g.member,N=(null==y?void 0:y.id)||"me",_=null!==(n=null!==(a=null==y||null===(i=y.nonPublic)||void 0===i?void 0:i.fullName)&&void 0!==a?a:null==y?void 0:y.fullName)&&void 0!==n?n:"",S=Boolean(null==y?void 0:y.confirmed),D=Object(t.useMemo)((()=>{var e,n;return null!==(e=null==g||null===(n=g.member)||void 0===n?void 0:n.oneTimeMessagesDismissed)&&void 0!==e?e:[]}),[null==g||null===(r=g.member)||void 0===r?void 0:r.oneTimeMessagesDismissed]),I=o.a.get("teamify")||"{}",A=Object(t.useMemo)((()=>{try{const e=JSON.parse(I);return H(H({},null==y?void 0:y.teamify),e)}catch(e){return null}}),[I,null==y?void 0:y.teamify])||(null==y?void 0:y.teamify),W=null==A?void 0:A.state,R=null==A?void 0:A.impact,V=null!==(s=null==A?void 0:A.collaborativeTeamlessBoards)&&void 0!==s?s:0,L=null!==(l=null==A?void 0:A.soloTeamlessBoards)&&void 0!==l?l:0,Y=null==A?void 0:A.idOrgCreated,U=null==A?void 0:A.idOrgSelected,{migratedBoards:K,loading:X,error:q}=J({idOrg:Y||U||""});Object(t.useEffect)((()=>{G(q)}),[q]);const[Q,{loading:$}]=function(e){const n=w(w({},M),e);return d.useMutation(B,n)}(),ee=D.includes(C),[ne,{loading:ae}]=function(e){const n=F(F({},P),e);return d.useMutation(z,n)}(),te=D.includes(T),ie=Object(t.useCallback)((()=>!!c&&(!!S&&("done"===W?"none"!==R&&!ee&&(!!Y||!!U)&&K.length>0:"pending"===W&&(V>0||L>0)))),[V,S,ee,Y,U,R,c,L,W,K]),re=o.a.get("simulate-migration-wizard-banner");Object(t.useEffect)((()=>{if(re&&!m)u(!0);else if(!k&&!X&&(!m||p)){const e=ie();e!==m&&u(e),p&&b(!1)}}),[re,m,u,k,X,p,ie,b]);const oe=Object(t.useCallback)((()=>{f(),b(!0)}),[f,b]);let se=null;m&&(se=Object(h.isDesktop)()?O.Desktop:"done"===(null==A?void 0:A.state)||"post"===o.a.get("teamify-wizard-path")?O.Post:null!=A&&A.voluntaryDone?O.Advanced:O.Pre);const le=Object(t.useCallback)((()=>{$||Q({variables:{messageId:C},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:[...D,C],__typename:"Member"}}})}),[Q,D,$]),de=Object(t.useCallback)((()=>{ae||te||ne({variables:{messageId:T},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:[...D,T],__typename:"Member"}}})}),[ne,te,ae,D]);return{loading:k,loadingMigratedBoards:X,error:v,isEligible:m,experience:se,teamify:A,memberId:N,memberName:_,dismissBanner:le,hasDismissedPostMigrationBanner:ee,refetch:f,checkEligibility:oe,hasDismissedAutoShow:te,dismissAutoShow:de}},Q=(e,n)=>{switch(n.type){case"add":return[...e,n.idBoard];case"remove":return e.filter((e=>e!==n.idBoard));case"clear":return[];case"all":return n.idBoards;default:return e}};var $=a("./packages/atlassian-analytics/index.ts");function ee(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ne(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(a),!0).forEach((function(n){ae(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ae(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const te={context:{operationName:"BoardsInOrg"}},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardsInOrg"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}}]}}]}}]};function re(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function oe(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?re(Object(a),!0).forEach((function(n){se(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function se(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const le={context:{operationName:"MembersOfBoards"}},de={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MembersOfBoards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoards"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"idBoards"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullName"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"avatarSource"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"nonPublic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"fullName"}}]}}]}}]}}]}}]};const ce=e=>{var n;const{data:a,loading:i,error:r}=function(e){const n=ne(ne({},te),e);return d.useQuery(ie,n)}({variables:{orgId:e},skip:!e,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),o=((null==a||null===(n=a.organization)||void 0===n?void 0:n.boards)||[]).map((e=>e.id)),{data:l,loading:c,error:m}=function(e){const n=oe(oe({},le),e);return d.useQuery(de,n)}({variables:{idBoards:o},skip:i||!e});return Object(t.useEffect)((()=>{r&&Object(g.sendErrorEvent)(r,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useTeamGuests"}})}),[r]),Object(t.useEffect)((()=>{m&&Object(g.sendErrorEvent)(m,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useTeamGuests"}})}),[m]),Object(t.useMemo)((()=>{var e;const n=((null==a||null===(e=a.organization)||void 0===e?void 0:e.memberships)||[]).map((e=>e.idMember)),t=((null==l?void 0:l.boards)||[]).flatMap((({members:e})=>e.filter((e=>!n.includes(e.id)&&e.id!==W.memberId)))).filter((({id:e},n,a)=>a.findIndex((n=>n.id===e))===n)).sort(((e,n)=>{var a,t,i;return null!==(a=null==e||null===(t=e.fullName)||void 0===t?void 0:t.localeCompare(null!==(i=null==n?void 0:n.fullName)&&void 0!==i?i:""))&&void 0!==a?a:0}));return{loading:i||c,error:r||m,teamGuests:t}}),[a,l,i,c,r,m])};var me=a("./app/scripts/init/useSocketSubscription.ts"),ue=a("./packages/router/index.ts"),pe=a("./packages/routes/index.ts"),be=a("./app/scripts/db/model-loader.js"),ge=a.n(be);const ke=f.INTRO,ve=()=>{const{isEligible:e,memberName:n,loading:a,teamify:i,experience:r,dismissBanner:s,hasDismissedPostMigrationBanner:l,refetch:d,checkEligibility:c,hasDismissedAutoShow:m,dismissAutoShow:u}=q(),p=Object(Z.useFeatureFlag)("btg.wizard-auto-show",!1),{dialogProps:b,show:g}=Object(v.c)(),h=e||b.isOpen,{teamlessBoards:y}=k({skip:a||!h||"done"===(null==i?void 0:i.state)}),[j,N]=Object(t.useState)(""),[x,E]=Object(t.useState)(null),[_,w]=Object(t.useState)(!1),{teamGuests:S,loading:M}=ce(j),[B,D]=Object(t.useState)(""),[F,I]=Object(t.useState)(ke),[P,z]=Object(t.useState)(),[C,T]=Object(t.useReducer)(Q,[]),[R,V]=Object(t.useState)(!1);Object(me.a)("Organization",j,!j||!b.isOpen);const{pathname:L}=Object(ue.useLocation)(),Y=null==i?void 0:i.voluntaryDone,U=o.a.get("teamify-wizard-path"),J=Object(t.useCallback)((e=>{if(e){switch(e){case f.MEMBERSHIPS:T({type:"clear"}),D(""),M||""===j||(0===(null==S?void 0:S.length)?I(f.BOARD_VISIBILITY):I(e));break;default:I(e)}z(F)}}),[F,T,S,M,j]),K=Object(t.useCallback)((e=>{J(e)}),[J]);Object(t.useEffect)((()=>{if(b.isOpen){if((F===f.MOVE_YOUR_BOARDS||F===f.BC_FOR_FREE)&&""!==j)return;$.Analytics.sendScreenEvent({name:A[F],containers:{organization:{id:j}},attributes:{forcedMigration:r===O.Post?"post":"pre"}})}}),[b.isOpen,F,j,r]);const H=Object(t.useCallback)((()=>{F===f.BC_FOR_FREE&&$.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"teamifyBCModal"}),P&&J(P)}),[J,P,F]),X=Object(t.useCallback)((()=>{b.hide(),J(f.INTRO),T({type:"clear"}),E(Y),N(""),j&&(ge.a.loadMemberBoardsData(W.memberId),ge.a.loadOrganizationBoardsData(j)),R&&(c(),V(!1))}),[b,J,T,Y,c,R,V,j]),G=Object(t.useCallback)((()=>{R||V(!0)}),[R]);return Object(t.useEffect)((()=>{a||_||(w(!0),E(Y))}),[a,E,_,w,Y]),Object(t.useEffect)((()=>{!a&&n&&D("".concat(n,"'s workspace"))}),[a,n,D]),Object(t.useEffect)((()=>{if(!a&&_)switch(U){case"advanced":F!==f.COMPLEX_MOVE_BOARDS&&J(f.COMPLEX_MOVE_BOARDS);break;case"simple":F===f.COMPLEX_MOVE_BOARDS&&J(f.INTRO);break;case"post":F!==f.POST_MIGRATION&&J(f.POST_MIGRATION);break;default:"done"===(null==i?void 0:i.state)?J(f.POST_MIGRATION):x&&F!==f.COMPLEX_MOVE_BOARDS&&J(f.COMPLEX_MOVE_BOARDS)}}),[a,U,x,J,F,null==i?void 0:i.state,_]),Object(t.useEffect)((()=>{!p||!e||"done"===(null==i?void 0:i.state)||b.isOpen||m||a||Object(pe.isCardRoute)(Object(pe.getRouteIdFromPathname)(L))||(g(),u())}),[e,b.isOpen,u,m,p,a,L,g,null==i?void 0:i.state]),Object(t.useMemo)((()=>({isEligible:h,teamlessBoards:y,currentStep:F,previousStep:P,onNext:K,onBack:H,orgId:j,setOrgId:N,selectedBoards:C,updateBoards:T,teamName:B,setTeamName:D,dialogProps:b,hideWizard:X,experience:r,teamify:i,dismissBanner:s,hasDismissedPostMigrationBanner:l,refetchMigrationWizardQuery:d,checkEligibilityOnClose:G})),[h,y,F,P,K,H,j,N,C,T,B,D,b,X,r,i,s,l,d,G])},fe={isEligible:!1,teamlessBoards:[],currentStep:ke,onNext:()=>{},onBack:()=>{},setOrgId:()=>{},orgId:"",selectedBoards:[],updateBoards:()=>{},teamName:"",setTeamName:()=>{},dialogProps:{hide:()=>{},show:()=>{},toggle:()=>{},isOpen:!1},hideWizard:()=>{},experience:null,teamify:null,dismissBanner:()=>{},hasDismissedPostMigrationBanner:!1,refetchMigrationWizardQuery:()=>{},checkEligibilityOnClose:()=>{}},Oe=i.a.createContext(fe),he=({children:e})=>{const n=ve();return i.a.createElement(l.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard}},i.a.createElement(Oe.Provider,{value:n},e))};var ye=a("./node_modules/moment/moment.js"),je=a.n(ye),Ne=a("./packages/nachos/button.ts"),xe=a("./app/src/components/Banner/index.ts"),Ee=a("./packages/i18n/index.ts"),_e=a("./packages/test-ids/index.ts"),we=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),Se=a.n(we),Me=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less"),Be={insert:"head",singleton:!1},De=(Se()(Me.a,Be),Me.a.locals||{});const Fe=Object(Ee.forNamespace)(["migration wizard"]),Ie=()=>{const{teamify:e}=Object(t.useContext)(Oe);return i.a.createElement(i.a.Fragment,null,i.a.createElement(xe.a,{inlinePadding:!0,textClassName:De.banner},i.a.createElement("span",{className:De.text},!(null==e||!e.autoMigration)&&Fe("desktop-banner",{migrationDate:je()(null==e?void 0:e.autoMigration).format("MMMM Do")})),i.a.createElement(Ne.Button,{appearance:"primary",className:De.button,onClick:()=>{window.open("/","_blank")},testId:_e.MigrationWizardTestIds.StartButton},Fe("desktop-banner-button"))))};var Pe=a("./node_modules/classnames/index.js"),ze=a.n(Pe),Ce=a("./packages/nachos/icons/back.tsx"),Te=a("./packages/nachos/icons/close.tsx"),Ae=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDialog.less"),We={insert:"head",singleton:!1},Re=(Se()(Ae.a,We),Ae.a.locals||{}),Ve=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardStart.less"),Le={insert:"head",singleton:!1},Ye=(Se()(Ve.a,Le),Ve.a.locals||{});const Ue=Object(Ee.forNamespace)(["migration wizard"]),Je=()=>{const{onNext:e,teamify:n}=Object(t.useContext)(Oe);let r;return null!=n&&n.autoMigration&&(r=je()(null==n?void 0:n.autoMigration).format("MMMM Do")),i.a.createElement("div",{className:Ye.container},i.a.createElement("img",{src:a("./resources/images/migration-wizard/start-board-migration.png"),alt:"",role:"presentation",width:"233",height:"178"}),i.a.createElement("h1",{className:Ye.startMigrationTitle},Ue("simple-start-migration-title")),i.a.createElement("p",{className:Ye.startMigrationBody},Ue("simple-start-teams-are-workspaces")),i.a.createElement(Ne.Button,{appearance:"primary",size:"wide",onClick:()=>null==e?void 0:e(f.MOVE_YOUR_BOARDS),testId:_e.MigrationWizardTestIds.IntroStartButton},Ue("simple-start-migration-button")),i.a.createElement("hr",{className:Ye.line}),r?i.a.createElement("p",{className:Ye.footerText},Ue("simple-start-migration-footer-with-date",{migrationDate:r})):i.a.createElement("p",{className:Ye.footerText},Ue("simple-start-migration-footer-without-date")))};var Ze=a("./packages/nachos/spinner.ts"),Ke=a("./packages/graphql-error-handling/index.ts");function He(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Xe(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?He(Object(a),!0).forEach((function(n){Ge(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Ge(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const qe={context:{operationName:"UseCreateTeamAndMoveBoardsCreateTeam"}},Qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UseCreateTeamAndMoveBoardsCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"default",block:!1}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"StringValue",value:"other",block:!1}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function $e(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function en(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?$e(Object(a),!0).forEach((function(n){nn(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function nn(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const an={context:{operationName:"MigrationWizardMoveBoard"}},tn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardMoveBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idOrganization"}}]}}]}}]};function rn(e){const n=en(en({},an),e);return d.useMutation(tn,n)}function on(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function sn(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?on(Object(a),!0).forEach((function(n){ln(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):on(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ln(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const dn={context:{operationName:"MigrationWizardUpdateVoluntaryDone"}},cn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardUpdateVoluntaryDone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateTeamifyVoluntaryDone"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};function mn(e){const n=sn(sn({},dn),e);return d.useMutation(cn,n)}function un(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function pn(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?un(Object(a),!0).forEach((function(n){bn(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):un(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function bn(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const gn={context:{operationName:"AddFreeTrial"}},kn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrial"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"via"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"standing"}},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"}}]}}]}}]}}]};const vn=()=>{const[e,n]=Object(t.useState)(""),[a,i]=Object(t.useState)(""),[r,o]=Object(t.useState)(""),{setOrgId:l}=Object(t.useContext)(Oe),[c,{loading:m}]=function(e){const n=Xe(Xe({},qe),e);return d.useMutation(Qe,n)}(),[u]=function(e){const n=pn(pn({},gn),e);return d.useMutation(kn,n)}(),[p]=rn(),[b]=mn();return{createTeamAndMoveBoards:async(e,a)=>{if(!a||0===a.length)throw new Error("Need to provide boards to move");const t=await(async(e,{withFreeTrial:a=!1})=>{var t;if(m)return;const r=e.trim();let o;try{const{data:e}=await c({variables:{name:r}});o=e}catch(e){const a=Object(Ke.c)(e);switch(null==a?void 0:a.code){case"ORG_DISPLAY_NAME_SHORT":n(Object(Ee.localizeErrorCode)("organization","ORG_DISPLAY_NAME_SHORT"));break;default:i(Object(Ee.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:a})}}if(null!==(t=o)&&void 0!==t&&t.createOrganization){const e=o.createOrganization.id;if(!a)return e;try{return await u({variables:{orgId:e}}),e}catch(e){const n=Object(Ke.c)(e);return i((null==n?void 0:n.message)||"Could not add free trial"),void Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}}})(e,{withFreeTrial:a.length>9}),r=t?await(async(e,n)=>{const a=[];for(const r of n)try{var t;const{data:n}=await p({variables:{orgId:e,boardId:r,keepBillableGuests:!0}});var i;null!=n&&null!==(t=n.updateBoardOrg)&&void 0!==t&&t.id&&(a.push(null==n||null===(i=n.updateBoardOrg)||void 0===i?void 0:i.id),$.Analytics.sendUpdatedBoardFieldEvent({field:"organization",value:e,source:A[f.MOVE_YOUR_BOARDS],containers:{board:{id:r},organization:{id:e}}}))}catch(e){const n=e=>{const n=Object(Ke.c)(e);null==n||n.code,o(Object(Ee.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})};Array.isArray(e.networkError)?e.networkError.map((e=>n(new d.ApolloError({networkError:e})))):n(e)}return a})(t,a):[];t&&l(t);try{await b({variables:{memberId:"me"}})}catch(e){const n=Object(Ke.c)(e);Object(g.sendErrorEvent)(n||e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}return{organizationId:t,movedBoards:r}},teamNameError:e,setTeamNameError:n,teamError:a,setTeamError:i,boardError:r,setBoardError:o}};var fn=a("./app/common/lib/util/preview.ts"),On=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less"),hn={insert:"head",singleton:!1},yn=(Se()(On.a,hn),On.a.locals||{});const jn=({boardId:e,boardName:n,background:a,isSelected:r=!1,onClick:o,isDisabled:s,title:l,testId:d,tabIndex:c,setRef:m})=>{const u=ze()(yn.container,{[yn.selectable]:!s&&Boolean(o),[yn.selectedCompactBoardTile]:r,[yn.disabled]:s}),p=(e=>{const n={};let a="";if(e){var t,i,r,o;a=e.backgroundTile?null!==(t=e.backgroundImage)&&void 0!==t?t:"":null!==(i=null!==(r=null===(o=Object(fn.smallestPreviewBiggerThan)(e.backgroundImageScaled,400,200))||void 0===o?void 0:o.url)&&void 0!==r?r:e.backgroundImage)&&void 0!==i?i:"",a&&(n.backgroundImage="url('".concat(a,"')")),n.backgroundColor=e.backgroundTopColor||void 0}return n})(a),b=Object(t.useRef)(null);return Object(t.useEffect)((()=>{null==m||m(b)}),[b,m]),i.a.createElement("div",{ref:b,className:u,style:p,onClick:e=>{s||null==o||o(e)},role:"button",key:e,title:l,"data-test-id":d,tabIndex:c},i.a.createElement("div",{className:yn.boardThumbnail,style:p}),i.a.createElement("div",{className:yn.boardDescription},i.a.createElement("div",{className:yn.boardNameWrapper},i.a.createElement("div",{className:yn.boardName},n)),r&&i.a.createElement("div",{className:yn.checkmark},"✓")))};var Nn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMessagePill.less"),xn={insert:"head",singleton:!1},En=(Se()(Nn.a,xn),Nn.a.locals||{});const _n=({children:e,type:n})=>i.a.createElement("div",{"data-test-id":_e.MigrationWizardTestIds.ErrorPill,role:"alert",className:ze()(En.pill,{[En.error]:"error"===n,[En.alert]:"alert"===n})},e);var wn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less"),Sn={insert:"head",singleton:!1},Mn=(Se()(wn.a,Sn),wn.a.locals||{}),Bn=a("./packages/keybindings/index.ts");const Dn=()=>{const{teamlessBoards:e,updateBoards:n}=Object(t.useContext)(Oe),[a,i]=Object(t.useState)(null),r=Object(t.useRef)(e.map((e=>Object(t.createRef)()))),o=Object(t.useCallback)(((e,t,r,o=!1)=>s=>{if(null!==a){switch(Object(Bn.getKey)(s)){case Bn.Key.ArrowDown:if(a+1===r.length-1){i(a+1);break}if(a+2>r.length-1)break;i(a+2);break;case Bn.Key.ArrowUp:if(a-2<0)break;i(a-2);break;case Bn.Key.ArrowRight:if(a===r.length-1)break;i(a+1);break;case Bn.Key.ArrowLeft:if(0===a)break;i(a-1);break;case Bn.Key.Enter:case Bn.Key.Space:if(!e&&o)break;n({type:e?"remove":"add",idBoard:t.id});break;default:return}s.preventDefault()}}),[a,n]),s=Object(t.useCallback)(((e,n)=>{r.current[n]=e}),[r]),l=Object(t.useCallback)((e=>n=>s(n,e)),[s]);return Object(t.useEffect)((()=>{var e;null!==a&&(null===(e=r.current[a].current)||void 0===e||e.focus())}),[r,a]),{setRef:s,setRefAtIndex:l,onKeyboardNavigationBoardList:o,boardRefs:r,activeElementIndex:a,setActiveElementIndex:i}},Fn=Object(Ee.forNamespace)(["migration wizard"]),In=Object(Ee.forNamespace)(["error handling","organization"]),Pn=()=>{const e=Object(t.useRef)(null),[n,a]=Object(t.useState)(!1),[r,o]=Object(t.useState)(),{teamlessBoards:s,selectedBoards:l,updateBoards:d,onNext:c,teamName:m,setTeamName:u,orgId:p}=Object(t.useContext)(Oe),{createTeamAndMoveBoards:b,teamNameError:g,setTeamNameError:k,teamError:v}=vn(),{setRefAtIndex:O,onKeyboardNavigationBoardList:h,setActiveElementIndex:y}=Dn(),j=Object(t.useRef)(null),N=Object(t.useCallback)((async()=>{if(0!==m.length)if(m.length>100)k(In("ORG_DISPLAY_NAME_LONG"));else if(l.length>9)null==c||c(f.BC_FOR_FREE);else{const e="create-organization/migrationWizard",n=A[f.MOVE_YOUR_BOARDS],t=$.Analytics.startTask({taskName:e,source:n});try{a(!0),await b(m,l),$.Analytics.taskSucceeded({taskName:e,traceId:t,source:n})}catch(a){$.Analytics.taskFailed({taskName:e,traceId:t,source:n,error:a}),o(a)}}else k(In("ORG_DISPLAY_NAME_SHORT"))}),[b,c,l,k,m]);let x;Object(t.useEffect)((()=>{""!==p&&(null==c||c(f.MEMBERSHIPS))}),[p,c]),Object(t.useEffect)((()=>{d({type:"all",idBoards:s.map((e=>e.id))})}),[]),x=g||(r||(v||"")),Object(t.useEffect)((()=>{e.current&&setTimeout((()=>{var n,a;null==e||null===(n=e.current)||void 0===n||n.focus(),null==e||null===(a=e.current)||void 0===a||a.select()}),500)}),[e]);const E=0===l.length||0===m.length||n,_=Object(t.useCallback)((e=>{var n;e.preventDefault(),null==j||null===(n=j.current)||void 0===n||n.focus(),E||N()}),[E,N]),w=Object(t.useCallback)((n=>{var a;switch(Object(Bn.getKey)(n)){case Bn.Key.Enter:E||N();break;case Bn.Key.Tab:null==e||null===(a=e.current)||void 0===a||a.focus();break;default:return}n.preventDefault()}),[E,N]);return i.a.createElement("div",{className:Mn.container},i.a.createElement("form",{onSubmit:_},i.a.createElement("h2",null,Fn("create-team-move-boards-title")),i.a.createElement("p",null,Fn("create-team-move-boards-body")),i.a.createElement("hr",null),i.a.createElement("label",{htmlFor:"migrationWizardMoveBoards"},Fn("create-team-move-boards-add-boards-prompt")),i.a.createElement("input",{id:"migrationWizardMoveBoards",ref:e,tabIndex:0,name:"teamName",type:"text",value:m,onChange:e=>{k(""),u(e.currentTarget.value)},"data-test-id":_e.MigrationWizardTestIds.TeamNameInput}),i.a.createElement(Ne.Button,{appearance:"subtle-link",onClick:()=>{d({type:"clear"}),null==c||c(f.COMPLEX_MOVE_BOARDS)},className:Mn.selectAnotherButton,testId:_e.MigrationWizardTestIds.SelectOtherTeamButton,tabIndex:0},Fn("create-team-move-boards-different-workspace-prompt")),i.a.createElement("h3",{tabIndex:-1},Fn("create-team-move-boards-selection-prompt-all-or-none-selected",{selectedBoards:l.length}),i.a.createElement(Ne.Button,{tabIndex:0,appearance:"subtle-link",className:Mn.selectionButton,testId:_e.MigrationWizardTestIds.SelectAllButton,onClick:()=>{l.length>0?d({type:"clear"}):d({type:"all",idBoards:s.map((e=>e.id))})}},l.length>0?Fn("start-migration-selection-unselect-all",{count:l.length}):Fn("start-migration-selection-none-or-some-selected"))),i.a.createElement("div",{className:Mn.boards},s.map(((e,n)=>{var a;const{backgroundTopColor:t="",backgroundImage:r="",backgroundImageScaled:o=[],backgroundTile:c=!1}=null!==(a=e.prefs)&&void 0!==a?a:{},m=l.includes(e.id);return i.a.createElement("div",{role:"radio",onKeyDown:h(m,e,s),key:e.id,className:Mn.boardTile,"aria-checked":m,onFocus:()=>y(n)},i.a.createElement(jn,{boardId:e.id,boardName:e.name,background:{backgroundTopColor:t,backgroundImage:r,backgroundImageScaled:o,backgroundTile:c},onClick:()=>{d({type:m?"remove":"add",idBoard:e.id})},isSelected:m,testId:_e.MigrationWizardTestIds.BoardTile,tabIndex:0,setRef:O(n)}))}))),i.a.createElement("hr",{className:Mn.bottomLine}),0===l.length&&i.a.createElement("p",{className:Mn.note},Fn("create-team-move-boards-selection-noneselected-footer")),x&&i.a.createElement(_n,{type:"error"},x),i.a.createElement(Ne.Button,{appearance:"primary",className:Mn.nextButton,onClick:N,ref:j,isDisabled:E,testId:_e.MigrationWizardTestIds.CreateBoardsNextButton,tabIndex:0,onKeyDown:w},n?i.a.createElement(Ze.a,{small:!0}):Fn("create-team-move-boards-next-button"))))};var zn=a("./packages/nachos/src/components/Spinner/index.ts"),Cn=a("./packages/nachos/icons/board.tsx"),Tn=a("./packages/nachos/icons/admin-chevron.tsx"),An=a("./packages/nachos/icons/butler-bot.tsx"),Wn=a("./packages/nachos/icons/checklist.tsx"),Rn=a("./packages/nachos/icons/power-up.tsx"),Vn=a("./packages/nachos/icons/sparkle.tsx"),Ln=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less"),Yn={insert:"head",singleton:!1},Un=(Se()(Ln.a,Yn),Ln.a.locals||{});const Jn=Object(Ee.forNamespace)(["migration wizard"]),Zn=Object(Ee.forNamespace)(["alerts"]),Kn=()=>{const[e,n]=Object(t.useState)(!1),{onNext:r,selectedBoards:o,teamName:s,orgId:l}=Object(t.useContext)(Oe),[d,c]=Object(t.useState)(),{createTeamAndMoveBoards:m,teamNameError:u,teamError:p}=vn();let b;return Object(t.useEffect)((()=>{""!==l&&(null==r||r(f.MEMBERSHIPS))}),[l,r]),b=u||(d||(p||"")),i.a.createElement("div",{className:Un.container},i.a.createElement("img",{className:Un.sparkle,src:a("./resources/images/bc-sparkle-flat.svg"),alt:"",role:"presentation"}),i.a.createElement("h2",null,Jn("business-class-title")),i.a.createElement("h3",null,Jn("business-class-paragraph",{numberOfBoards:o.length})),i.a.createElement("p",null,Jn("business-class-list-header")),i.a.createElement("ul",{className:Un.featureList},i.a.createElement("li",null,i.a.createElement("span",{className:Un.featureIcon},i.a.createElement(Cn.BoardIcon,null)),Jn("business-class-list-1-unlimited-boards-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:Un.featureIcon},i.a.createElement(Rn.a,null)),Jn("business-class-list-2-unlimited-pups-corrected")),i.a.createElement("li",null,i.a.createElement("span",{className:Un.featureIcon},i.a.createElement(Wn.a,null)),Jn("business-class-list-3-assign")),i.a.createElement("li",null,i.a.createElement("span",{className:Un.featureIcon},i.a.createElement(Tn.a,null)),Jn("business-class-list-4-admin-corrected-2")),i.a.createElement("li",null,i.a.createElement("span",{className:Un.featureIcon},i.a.createElement(An.a,null)),Jn("business-class-list-5-butler")),i.a.createElement("li",null,i.a.createElement("span",{className:Un.featureIcon},i.a.createElement(Vn.a,null)),Jn("business-class-list-6-more"))),i.a.createElement("hr",null),b&&i.a.createElement(_n,{type:"error"},b),i.a.createElement(Ne.Button,{appearance:"primary",className:Un.button,isDisabled:e,onClick:async()=>{const e="create-organization/migrationWizard",a=A[f.BC_FOR_FREE],t=$.Analytics.startTask({taskName:e,source:a});try{n(!0),await m(s,o),$.Analytics.taskSucceeded({taskName:e,traceId:t,source:a})}catch(n){var i;$.Analytics.taskFailed({taskName:e,traceId:t,source:a,error:n}),c(null!==(i=null==n?void 0:n.message)&&void 0!==i?i:Zn("something-went-wrong"))}finally{n(!1)}}},e?i.a.createElement(zn.a,{small:!0}):Jn("create-team-move-boards-next-button")),i.a.createElement("p",{className:Un.disclaimer},Jn("business-class-footer")))};var Hn=a("./packages/nachos/icons/subscribe.tsx"),Xn=a("./app/src/components/MemberAvatar/index.ts"),Gn=a("./packages/nachos/icons/add-member.tsx"),qn=a("./packages/nachos/icons/private.tsx"),Qn=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less"),$n={insert:"head",singleton:!1},ea=(Se()(Qn.a,$n),Qn.a.locals||{});function na(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function aa(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?na(Object(a),!0).forEach((function(n){ta(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):na(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ta(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const ia={context:{operationName:"SelectedWorkspace"}},ra={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectedWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"premiumFeatures"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}},{kind:"Field",name:{kind:"Name",value:"public"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"}},{kind:"Field",name:{kind:"Name",value:"backgroundTile"}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"}},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"permissionLevel"}}]}}]}}]}}]}}]};const oa=()=>{var e;const{orgId:n}=Object(t.useContext)(Oe),{data:a,loading:i,error:r}=function(e){const n=aa(aa({},ia),e);return d.useQuery(ra,n)}({variables:{orgId:n},skip:!n});return Object(t.useEffect)((()=>{r&&Object(g.sendErrorEvent)(r,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useSelectedWorkspace"}})}),[r]),{loading:i,boards:(null==a||null===(e=a.organization)||void 0===e?void 0:e.boards)||[],org:(null==a?void 0:a.organization)||null,error:r}};var sa=a("./packages/nachos/icons/check.tsx"),la=a("./packages/nachos/icons/down.tsx"),da=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less"),ca={insert:"head",singleton:!1},ma=(Se()(da.a,ca),da.a.locals||{}),ua=a("./packages/nachos/src/components/Popover/index.ts"),pa=a("./app/src/components/PopoverMenu/index.ts");function ba(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ga(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ba(Object(a),!0).forEach((function(n){ka(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ba(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ka(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const va={context:{operationName:"MigrationWizardMembershipDropdown"}},fa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardMembershipDropdown"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function Oa(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ha(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Oa(Object(a),!0).forEach((function(n){ya(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ya(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const ja={context:{operationName:"MigrationWizardRemoveMembersFromWorkspace"}},Na={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardRemoveMembersFromWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeMembersFromWorkspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}},{kind:"Field",name:{kind:"Name",value:"error"}}]}}]}}]};function xa(){return(xa=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const Ea=Object(Ee.forNamespace)("view title"),_a=Object(Ee.forNamespace)(["migration wizard"]),wa={guest:"guest-membership",normal:"normal-membership",admin:"admin-membership"},Sa=({orgId:e,isPaidProduct:n,memberId:a,onError:r=(()=>{}),onSuccess:o=(()=>{})})=>{const{popoverProps:l,toggle:c,hide:m,triggerRef:u}=Object(ua.e)(),[p,b]=Object(t.useState)("guest"),[k]=function(e){const n=ga(ga({},va),e);return d.useMutation(fa,n)}(),[v]=function(e){const n=ha(ha({},ja),e);return d.useMutation(Na,n)}(),f=async n=>{let t;if("guest"===n){var i,l;const{data:n}=await v({variables:{orgId:e,users:null!==(i=[{id:a}])&&void 0!==i?i:[],type:"guest"}});t=null==n||null===(l=n.removeMembersFromWorkspace)||void 0===l?void 0:l.error}else{var d,c;const{data:i}=await k({variables:{orgId:e,users:null!==(d=[{id:a}])&&void 0!==d?d:[],type:n}});t=null==i||null===(c=i.addMembersToOrg)||void 0===c?void 0:c.error}t?(r(),Object(g.sendErrorEvent)(new Error(t),{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{component:"MigrationWizardMembershipDropdown",errorCode:"UNKNOWN_ERROR"}})):(o(),b(n)),m()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne.Button,{iconAfter:i.a.createElement(la.DownIcon,{size:"small",dangerous_className:ma.downIcon}),className:ma.permissionButton,onClick:()=>c(),ref:u},_a(wa[p])),i.a.createElement(ua.b,xa({},l,{title:Ea("change permissions")}),i.a.createElement(pa.a,{className:ma.dropdownPopover},i.a.createElement(pa.b,{className:ma.popoverMenubuttonOptions,onClick:()=>f("guest")},i.a.createElement("span",{className:ma.membershipTitle},_a("guest-membership")),"guest"===p&&i.a.createElement(sa.a,{size:"small",dangerous_className:ma.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:ma.membershipSubText},_a("guest-membership-description")))),i.a.createElement(pa.b,{className:ma.popoverMenubuttonOptions,onClick:()=>f("normal")},i.a.createElement("span",{className:ma.membershipTitle},_a("normal-membership")),"normal"===p&&i.a.createElement(sa.a,{size:"small",dangerous_className:ma.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:ma.membershipSubText},_a(n?"normal-membership-description-paid":"normal-membership-description-free")))),n&&i.a.createElement(pa.b,{className:ma.popoverMenubuttonOptions,onClick:()=>f("admin")},i.a.createElement("span",{className:ma.membershipTitle},_a("admin-membership")),"admin"===p&&i.a.createElement(sa.a,{size:"small",dangerous_className:ma.checkmark,block:!0}),i.a.createElement("div",null,i.a.createElement("span",{className:ma.membershipSubText},_a("admin-membership-description")))))))};var Ma=a("./packages/product-features/index.ts");function Ba(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Da(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Ba(Object(a),!0).forEach((function(n){Fa(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Fa(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Ia=Object(Ee.forNamespace)(["alerts"]),Pa=Object(Ee.forNamespace)(["migration wizard"]),za=()=>{var e,n;const{org:a}=oa(),{orgId:r,onNext:o}=Object(t.useContext)(Oe),{teamGuests:s,loading:l}=ce(r),[d,c]=Object(t.useState)(s),m=Ma.ProductFeatures.hasProduct(null!==(e=null==a||null===(n=a.products)||void 0===n?void 0:n[0])&&void 0!==e?e:void 0),[u,p]=Object(t.useState)("");Object(t.useEffect)((()=>{l||0!==(null==d?void 0:d.length)||c(s)}),[l,s,d,c]);const b=Object(t.useCallback)((()=>{if(null!=d&&d.length){var e;const n=(null==d?void 0:d.length)-(null!==(e=null==s?void 0:s.length)&&void 0!==e?e:0);n>0&&$.Analytics.sendClickedButtonEvent({buttonName:"nextButton",source:"teamifyMembershipsModal",attributes:{numMembers:n},containers:{organization:{id:r}}})}null==o||o(f.BOARD_VISIBILITY)}),[d,s,o,r]);return i.a.createElement("div",{className:ea.container},i.a.createElement("h2",null,Pa("membership-title")),i.a.createElement("p",null,Pa("membership-body")),i.a.createElement("ul",{className:ea.permissionsList},i.a.createElement("li",null,i.a.createElement("span",{className:ze()(ea.permissionIcon,ea.guests)},i.a.createElement(Gn.a,null)),Pa("membership-list1-guests")),i.a.createElement("li",null,i.a.createElement("span",{className:ze()(ea.permissionIcon,ea.members)},i.a.createElement(Hn.a,null)),Pa("membership-list2-guest-permissions")),i.a.createElement("li",null,i.a.createElement("span",{className:ze()(ea.permissionIcon,ea.private)},i.a.createElement(qn.a,null)),Pa("membership-list3-private-boards")),i.a.createElement("li",null,i.a.createElement("span",{className:ze()(ea.permissionIcon,ea.aaua)},i.a.createElement(Tn.a,null)),Pa("membership-list4-admins"))),i.a.createElement("div",{className:ea.tableWrapper},l?i.a.createElement(Ze.a,{centered:!0}):i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,Pa("membership-board-members")),i.a.createElement("th",null,Pa("membership-permission-list")))),i.a.createElement("tbody",null,null==d?void 0:d.map((e=>i.a.createElement("tr",{key:e.id},i.a.createElement("td",null,i.a.createElement("div",{className:ea.member},i.a.createElement("div",{className:ea.memberAvatar},i.a.createElement(Xn.a,{idMember:e.id,memberData:Da({},e),size:32})),i.a.createElement("div",{className:ea.memberDetails},i.a.createElement("div",{className:ea.memberFullName},e.fullName," "),i.a.createElement("div",{className:ea.memberUsername},"@",e.username)))),i.a.createElement("td",null,i.a.createElement(Sa,{orgId:r,isPaidProduct:m,memberId:e.id,onError:()=>{p(Ia("something-went-wrong"))},onSuccess:()=>{p("")}})))))))),i.a.createElement("hr",null),""!==u&&i.a.createElement(_n,{type:"error"},u),i.a.createElement("p",{className:ea.footerText},Pa("membership-footer")),i.a.createElement(Ne.Button,{appearance:"primary",className:ea.nextButton,onClick:b,isDisabled:l,testId:_e.MigrationWizardTestIds.TeamMembershipsNextButton},Pa("create-team-move-boards-next-button")))};var Ca=a("./packages/nachos/icons/organization.tsx"),Ta=a("./packages/nachos/src/components/Button/index.ts"),Aa=a("./packages/nachos/icons/enterprise.tsx"),Wa=a("./packages/nachos/icons/public.tsx"),Ra=a("./packages/organizations/index.ts");function Va(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function La(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Va(Object(a),!0).forEach((function(n){Ya(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Va(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Ya(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Ua={context:{operationName:"MigrationWizardBoardVisibilityChooserBoardVisibility"}},Ja={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardBoardVisibilityChooserBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};var Za=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less"),Ka={insert:"head",singleton:!1},Ha=(Se()(Za.a,Ka),Za.a.locals||{});const Xa=Object(Ee.forNamespace)(["migration wizard","board_menu_vis"]),Ga=Object(Ee.forNamespace)(["migration wizard","board perms"]),qa={private:{Icon:qn.a,className:ze()(Ha.iconVis,Ha.iconPrivate)},public:{Icon:Wa.a,className:ze()(Ha.iconVis,Ha.iconPublic)},org:{Icon:Ca.a,className:Ha.iconVis},enterprise:{Icon:Aa.a,className:Ha.iconVis}},Qa=({org:e,idBoard:n,permissionLevel:a,onError:r=(()=>{}),onSuccess:o=(()=>{})})=>{var l,c;const{popoverProps:m,toggle:u,hide:p,triggerRef:b}=Object(ua.e)(),[k,v]=Object(t.useState)(a),[f]=function(e){const n=La(La({},Ua),e);return d.useMutation(Ja,n)}(),O=(null==e?void 0:e.idEnterprise)&&Ma.ProductFeatures.isEnterpriseProduct(null===(l=e.products)||void 0===l?void 0:l[0])?["private","org","enterprise","public"]:["private","org","public"],h=(null==e||null===(c=e.premiumFeatures)||void 0===c?void 0:c.includes("superAdmins"))?"with super admins":"with organization";return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ta.a,{iconAfter:i.a.createElement(la.DownIcon,{dangerous_className:Ha.buttonIcon}),className:Ha.visibilityButton,shouldFitContainer:!0,onClick:()=>u(),ref:b},k&&Ga([k,"name"])),i.a.createElement(ua.b,m,i.a.createElement(pa.a,{className:Ha.popoverMenu},O.map((a=>{var t;const{Icon:l,className:d}=qa[a],c=!Object(Ra.canSetVisibilityOnBoard)({org:{idEnterprise:e.idEnterprise,prefs:{boardVisibilityRestrict:null===(t=e.prefs)||void 0===t?void 0:t.boardVisibilityRestrict},products:e.products},boardVisibility:a,isOrgAdmin:!0});return i.a.createElement(pa.b,{key:a,onClick:async()=>{try{await f({variables:{boardId:n,visibility:a}}),o(),v(a),p()}catch(n){var e,t,i;r(),Object(g.sendErrorEvent)(n,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{component:"MigrationWizardBoardVisibilityChooser",method:"onClick",errorCode:null!==(e=null==n||null===(t=n.networkError)||void 0===t||null===(i=t.extensions)||void 0===i?void 0:i.code)&&void 0!==e?e:"UNKNOWN_ERROR"}}),p()}},className:ze()(Ha.menuItem,c&&Ha.disabled),disabled:c},i.a.createElement(l,{size:"small",dangerous_className:ze()(d,c&&Ha.disabled)}),Xa(a),a===k&&i.a.createElement(sa.a,{size:"small",dangerous_className:Ha.checkmark,block:!0}),i.a.createElement("div",{className:Ha.subName},i.a.createElement("span",{key:a},Xa(["permission subtext",h,a],{orgName:i.a.createElement(i.a.Fragment,{key:"permission-subtext"},null==e?void 0:e.displayName)})),c&&i.a.createElement("span",{key:"error",className:Ha.error}," ".concat(Xa(["illegal visibility","create"])))))})))))};var $a=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less"),et={insert:"head",singleton:!1},nt=(Se()($a.a,et),$a.a.locals||{});function at(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const tt=Object(Ee.forNamespace)(["migration wizard"]),it=Object(Ee.forNamespace)(["alerts"]),rt=()=>{const[e,n]=Object(t.useState)(""),{boards:a,org:r,loading:o}=oa(),{onNext:s}=Object(t.useContext)(Oe),l=Object(t.useCallback)((()=>{}),[s]);return i.a.createElement("div",{className:nt.container},i.a.createElement("h2",null,tt("board-visibility-title")),i.a.createElement("p",null,tt("board-visibility-body")),i.a.createElement("ul",{className:nt.visibilityList},i.a.createElement("li",null,i.a.createElement("span",{className:ze()(nt.permissionIcon,nt.stayPrivate)},i.a.createElement(qn.a,null)),tt("board-visibility-list1-private")),i.a.createElement("li",null,i.a.createElement("span",{className:ze()(nt.permissionIcon,nt.private)},i.a.createElement(Hn.a,null)),tt("board-visibility-list2-private-members")),i.a.createElement("li",null,i.a.createElement("span",{className:ze()(nt.permissionIcon,nt.team)},i.a.createElement(Ca.a,null)),tt("board-visibility-list3-workspace-2"))),i.a.createElement("div",{className:nt.tableWrapper},o||!r?i.a.createElement(Ze.a,{centered:!0}):i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,tt("board-visibility-boards-list")),i.a.createElement("th",null,tt("board-visibility-boards-vis")))),i.a.createElement("tbody",null,a.map(((e,a)=>{var t;const o=null!==(t=e.prefs)&&void 0!==t?t:{},{permissionLevel:s="private"}=o,l=at(o,["permissionLevel"]);return i.a.createElement("tr",{key:e.id,"data-test-id":_e.MigrationWizardTestIds.BoardVisibilityItem},i.a.createElement("td",null,i.a.createElement("div",{role:"button",className:nt.boardTile},i.a.createElement(jn,{boardId:e.id,boardName:e.name,background:l,tabIndex:-1}))),i.a.createElement("td",null,i.a.createElement(Qa,{idBoard:e.id,permissionLevel:s,org:r,onError:()=>{n(it("something-went-wrong"))},onSuccess:()=>{n("")}})))}))))),i.a.createElement("hr",null),""!==e&&i.a.createElement(_n,{type:"error"},e),i.a.createElement("p",{className:nt.footerText},tt("board-visibility-footer")),i.a.createElement(Ta.a,{appearance:"primary",onKeyDown:l,className:nt.button,onClick:()=>{null==s||s(f.DONE)},testId:_e.MigrationWizardTestIds.BoardVisibilityNextButton,isDisabled:o},tt("create-team-move-boards-next-button")))};var ot=a("./packages/nachos/src/components/Textfield/index.ts"),st=a("./app/src/components/TeamTypeSelect/index.ts"),lt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less"),dt={insert:"head",singleton:!1},ct=(Se()(lt.a,dt),lt.a.locals||{});function mt(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function ut(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?mt(Object(a),!0).forEach((function(n){pt(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mt(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function pt(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const bt={context:{operationName:"MigrationWizardComplexCreateWorkspace"}},gt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MigrationWizardComplexCreateWorkspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"StringValue",value:"default",block:!1}},{kind:"Argument",name:{kind:"Name",value:"creationMethod"},value:{kind:"StringValue",value:"teamify-wizard",block:!1}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"idBoards"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableAt"}}]}}]}}]}}]}}]}}]};function kt(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function vt(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?kt(Object(a),!0).forEach((function(n){ft(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kt(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function ft(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Ot=Object(Ee.forNamespace)(["migration wizard"]),ht=Object(Ee.forNamespace)(["error handling","organization"]),yt=({onCreateWorkspace:e})=>{const[n,a]=Object(t.useState)(""),[r,o]=Object(t.useState)(!1),[l,c]=Object(t.useState)(""),[m,u]=Object(t.useState)(),[p]=function(e){const n=ut(ut({},bt),e);return d.useMutation(gt,n)}(),{experience:b}=Object(t.useContext)(Oe);return i.a.createElement("div",{className:ct.createWorkspace},i.a.createElement("div",{className:ct.workspaceName},i.a.createElement(ot.a,{label:Ot("popover-workspace-name"),className:ct.control,autoFocus:!0,value:l,onChange:e=>{c(e.target.value)}})),i.a.createElement("div",{className:ct.workspaceType},i.a.createElement(st.TeamTypeSelect,{label:Ot("popover-workspace-type"),onChange:e=>{u(e)}})),i.a.createElement(Ne.Button,{shouldFitContainer:!0,appearance:"primary",isDisabled:!l||!m,isLoading:r,onClick:async()=>{const n=l.trim();if(n.length>100)return void a(ht("ORG_DISPLAY_NAME_LONG"));const t="create-organization/migrationWizard",i=A[b===O.Post?f.POST_MIGRATION:f.COMPLEX_MOVE_BOARDS],r=$.Analytics.startTask({taskName:t,source:i});try{o(!0);const{data:a}=await p({variables:{name:n,teamType:null!=m?m:Ra.TeamTypes.Other,traceId:r}});if(null!=a&&a.createOrganization){var d,c,u,k,v;const n=vt(vt({},null==a?void 0:a.createOrganization),{},{numberOfFreeBoardsAvailable:null!==(d=null==a||null===(c=a.createOrganization)||void 0===c||null===(u=c.limits)||void 0===u||null===(k=u.orgs)||void 0===k||null===(v=k.freeBoardsPerOrg)||void 0===v?void 0:v.disableAt)&&void 0!==d?d:10,isPremiumWorkspace:!1,isAdmin:!!W.memberId&&Object(Ra.isMemberAdmin)({id:W.memberId,memberType:"normal"},null==a?void 0:a.createOrganization)});$.Analytics.taskSucceeded({taskName:t,traceId:r,source:i}),e(n)}}catch(e){$.Analytics.taskFailed({taskName:t,traceId:r,source:i,error:e});const n=Object(Ke.c)(e);switch(null==n?void 0:n.code){case"ORG_DISPLAY_NAME_SHORT":a(Object(Ee.localizeErrorCode)("organization","ORG_DISPLAY_NAME_SHORT"));break;default:a(Object(Ee.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}}finally{o(!1)}}},Ot("popover-button-and-title")),n&&i.a.createElement(_n,{type:"error"},n))};var jt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less"),Nt={insert:"head",singleton:!1},xt=(Se()(jt.a,Nt),jt.a.locals||{});function Et(){return(Et=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const _t=Object(Ee.forNamespace)(["migration wizard"]);var wt;!function(e){e[e.ChooseWorkspace=0]="ChooseWorkspace",e[e.CreateWorkspace=1]="CreateWorkspace"}(wt||(wt={}));const St=({onSelectWorkspace:e,loading:n,workspaces:a})=>{const{popoverProps:r,toggle:o,hide:s,push:l,triggerRef:d}=Object(ua.e)({initialScreen:wt.ChooseWorkspace}),[c,m]=Object(t.useState)({id:"",displayName:_t("start-migration-workspace-dropdown")}),u=n=>{m({id:n.id,displayName:n.displayName}),null==e||e(n.id),s()};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ne.Button,{iconAfter:i.a.createElement(la.DownIcon,null),className:xt.workspaceListButton,onClick:()=>o(),isDisabled:n,ref:d,testId:_e.MigrationWizardTestIds.WorkspaceChooserButton},n?i.a.createElement(Ze.a,{small:!0}):c.displayName),i.a.createElement(ua.b,Et({},r,{hasBackButton:!0}),i.a.createElement(ua.d,{id:wt.ChooseWorkspace,noHorizontalPadding:!0},i.a.createElement("div",{className:xt.workspacePopover},i.a.createElement(pa.a,null,a.map((e=>i.a.createElement(pa.b,{key:e.id,title:e.displayName,disabled:0===e.numberOfFreeBoardsAvailable,description:null!==e.numberOfFreeBoardsAvailable&&e.numberOfFreeBoardsAvailable<=7?Object(Ee.localizeCount)("free-boards-remaining",e.numberOfFreeBoardsAvailable):null,onClick:()=>{u(e)},className:ze()(xt.workspaceOption,{[xt.selected]:c.id===e.id}),testId:_e.MigrationWizardTestIds.WorkspaceOption}))),i.a.createElement(pa.b,{title:_t("popover-menu-title"),onClick:()=>l(wt.CreateWorkspace)})))),i.a.createElement(ua.d,{id:wt.CreateWorkspace,title:_t("popover-button-and-title")},i.a.createElement(yt,{onCreateWorkspace:e=>{u(e)}}))))};function Mt(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Bt(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Mt(Object(a),!0).forEach((function(n){Dt(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Dt(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Ft={context:{operationName:"UseAvailableWorkspaces"}},It={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseAvailableWorkspaces"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"memberType"}},{kind:"Field",name:{kind:"Name",value:"organizations"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"memberships"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"}},{kind:"Field",name:{kind:"Name",value:"memberType"}}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"}},{kind:"Field",name:{kind:"Name",value:"products"}},{kind:"Field",name:{kind:"Name",value:"prefs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"org"}},{kind:"Field",name:{kind:"Name",value:"enterprise"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limits"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableAt"}},{kind:"Field",name:{kind:"Name",value:"count"}}]}}]}}]}}]}}]}}]}}]};function Pt(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function zt(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Pt(Object(a),!0).forEach((function(n){Ct(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function Ct(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}const Tt=()=>{const{dialogProps:e,experience:n,teamify:a}=Object(t.useContext)(Oe),{data:i,loading:r,error:o,refetch:l}=function(e){const n=Bt(Bt({},Ft),e);return d.useQuery(It,n)}();return Object(t.useEffect)((()=>{o&&Object(g.sendErrorEvent)(o,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{hook:"useAvailableWorkspaces"}})}),[o]),Object(t.useEffect)((()=>{e.isOpen&&l()}),[e.isOpen,l]),Object(t.useMemo)((()=>{var e,t;const s=null==i?void 0:i.member,d=(null!==(e=null==i||null===(t=i.member)||void 0===t?void 0:t.organizations)&&void 0!==e?e:[]).map((e=>{var n,a,t,i,r,o,l,d,c;const m=Ma.ProductFeatures.hasProduct(null===(n=e.products)||void 0===n?void 0:n[0]),u=null!==(a=null==e||null===(t=e.limits)||void 0===t||null===(i=t.orgs)||void 0===i||null===(r=i.freeBoardsPerOrg)||void 0===r?void 0:r.count)&&void 0!==a?a:0,p=(null!==(o=null==e||null===(l=e.limits)||void 0===l||null===(d=l.orgs)||void 0===d||null===(c=d.freeBoardsPerOrg)||void 0===c?void 0:c.disableAt)&&void 0!==o?o:10)-u,b=p>0&&p<10?p:null;return zt(zt({},e),{},{isAdmin:!!s&&Object(Ra.isMemberAdmin)(s,e),numberOfFreeBoardsAvailable:m?Number.POSITIVE_INFINITY:b,isPremiumWorkspace:m})})).filter((e=>n!==O.Post||e.id!==(null==a?void 0:a.idOrgCreated)&&e.id!==(null==a?void 0:a.idOrgSelected))).sort(((e,n)=>e.displayName.localeCompare(n.displayName)));return{loading:r,error:o,workspaces:d,refetch:l}}),[r,o,i,a,n,l])};var At=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less"),Wt={insert:"head",singleton:!1},Rt=(Se()(At.a,Wt),At.a.locals||{}),Vt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardsList.less"),Lt={insert:"head",singleton:!1},Yt=(Se()(Vt.a,Lt),Vt.a.locals||{});const Ut=Object(Ee.forNamespace)(["migration wizard"]),Jt=({loadingBoards:e,boards:n,workspace:a,selectedBoards:r,updateBoards:o,isMovingBoards:s})=>{const l=Object(t.useCallback)((e=>a&&e&&Object(Ra.canAddBoardToOrganization)({org:a,board:e,isOrgAdmin:a.isAdmin})),[a]),{setRefAtIndex:d,onKeyboardNavigationBoardList:c,setActiveElementIndex:m}=Dn(),u=Object(t.useMemo)((()=>a?n.filter((e=>!l(e))).map((e=>e.id)):[]),[a,n,l]),p=Math.min(n.length,null===(null==a?void 0:a.numberOfFreeBoardsAvailable)?10:null==a?void 0:a.numberOfFreeBoardsAvailable),b=Math.min(p,n.length-u.length),g=r.length>0&&r.length===b,k=r.length>=p;return Object(t.useEffect)((()=>{a&&(r.length>=p?o({type:"all",idBoards:[...r].filter((e=>!u.includes(e))).slice(0,p)}):o({type:"all",idBoards:[...r].filter((e=>!u.includes(e)))}))}),[r.length,p,o,a]),i.a.createElement("div",null,Boolean(u.length)&&i.a.createElement(_n,{type:"alert"},Ut("complex-move-boards-alert-cannot-add-boards")," ",i.a.createElement("a",{href:"https://help.trello.com/article/710-setting-up-your-business-class-team#Visibility-and-control"},Ut("post-migration-banner-learn-more"))),i.a.createElement("div",{className:Yt.boardsContainer},i.a.createElement("h3",null,a&&!a.isPremiumWorkspace?Ut("start-migration-selection-prompt-free",{selectedBoards:r.length,remainingBoards:b}):Ut("start-migration-selection-prompt",{selectedBoards:r.length}),!!a&&0!==a.numberOfFreeBoardsAvailable&&i.a.createElement(Ne.Button,{appearance:"subtle-link",className:Yt.selectionButton,onClick:()=>{a&&(a.isPremiumWorkspace?r.length===b?o({type:"clear"}):o({type:"all",idBoards:[...n].filter((({id:e})=>!u.includes(e))).map((({id:e})=>e))}):r.length===p?o({type:"clear"}):o({type:"all",idBoards:[...n].filter((({id:e})=>!u.includes(e))).map((({id:e})=>e)).slice(0,p)}))},isDisabled:s,testId:_e.MigrationWizardTestIds.SelectAllButton},g?Ut("start-migration-selection-unselect-all",{count:r.length}):Ut("start-migration-selection-none-or-some-selected"))),e?i.a.createElement(zn.a,{centered:!0}):i.a.createElement("div",{className:Yt.boards},n.map(((e,t)=>{const l=r.includes(e.id),p=u.includes(e.id),{id:b,name:g,prefs:v}=e,{backgroundTopColor:f="",backgroundImage:O="",backgroundImageScaled:h=[],backgroundTile:y=!1}=null!=v?v:{},j=!a||p||!l&&k;let N="";return k&&!l?N=Ut("reached-max-number-of-open-boards"):p&&(N=Ut("create-team-move-boards-restricted-board-2")),i.a.createElement("div",{role:"radio",key:b,className:Yt.boardTile,"aria-checked":l,onFocus:()=>m(t),onKeyDown:c(l,e,n,j)},i.a.createElement(jn,{boardId:b,boardName:g,background:{backgroundTopColor:f,backgroundImage:O,backgroundImageScaled:h,backgroundTile:y},onClick:s?void 0:()=>{o({type:l?"remove":"add",idBoard:b})},isSelected:l,isDisabled:j,title:N,testId:_e.MigrationWizardTestIds.BoardTile,tabIndex:0,setRef:d(t)}))})))))};var Zt=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDone.less"),Kt={insert:"head",singleton:!1},Ht=(Se()(Zt.a,Kt),Zt.a.locals||{}),Xt=a("./app/scripts/controller/navigate.js");const Gt=Object(Ee.forNamespace)(["migration wizard"]),qt=({isComplexPath:e})=>{const{hideWizard:n,orgId:r,checkEligibilityOnClose:o,dismissBanner:s,hasDismissedPostMigrationBanner:l}=Object(t.useContext)(Oe);return Object(t.useEffect)((()=>{o(),e&&!l&&s()}),[o,s,e,l]),i.a.createElement("div",{className:Ht.container},i.a.createElement("img",{src:a("./resources/images/migration-wizard/simple-path-done.svg"),alt:"",role:"presentation"}),i.a.createElement("h1",null,Gt("done-screen-title")),i.a.createElement("p",null,Gt("done-screen-body")),i.a.createElement(Ne.Button,{appearance:"primary",size:"wide",onClick:()=>{n(),e||Object(Xt.navigate)("/".concat(r),{trigger:!0})},testId:_e.MigrationWizardTestIds.DoneComponentDoneButton},Gt("done-screen-button")))},Qt=Object(Ee.forNamespace)(["migration wizard"],{shouldEscapeStrings:!1}),$t=()=>{const[e,n]=Object(t.useState)(!1),[a,r]=Object(t.useState)(""),[o]=rn(),[l]=mn(),{workspaces:d,loading:c,refetch:m}=Tt(),{loading:u}=k(),{selectedBoards:p,updateBoards:b,experience:v,teamify:h,setOrgId:y,orgId:j,refetchMigrationWizardQuery:N,teamlessBoards:x}=Object(t.useContext)(Oe),{migratedBoards:E,migrationOrg:_,loading:w,refetch:S}=J({skip:v===O.Advanced,idOrg:(null==h?void 0:h.idOrgCreated)||(null==h?void 0:h.idOrgSelected)||""}),M=w||u,B=v===O.Post?E:x,D=Object(t.useMemo)((()=>d.find((e=>e.id===j))),[d,j]),F=!D||0===p.length||e,I=e=>{const n=Object(Ke.c)(e);switch(null==n?void 0:n.code){case"FREE_BOARD_LIMIT_REACHED":r(Object(Ee.localizeErrorCode)("board","FREE_BOARD_LIMIT_REACHED"));break;default:r(Object(Ee.localizeErrorCode)("organization","UNKNOWN_ERROR")),Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"useCreateTeamAndMoveBoards"},networkError:n})}},P=Object(t.useCallback)((()=>{n(!1),b({type:"clear"}),N(),m(),v===O.Post&&S()}),[n,b,N,S,v,m]),z=Object(t.useCallback)((async()=>{if(F)return;r(""),n(!0);const e="edit-board/idOrganization/migrationWizard",a=A[v===O.Post?f.POST_MIGRATION:f.COMPLEX_MOVE_BOARDS];for(const n of p){const t=$.Analytics.startTask({taskName:e,source:a});try{await o({variables:{boardId:n,orgId:D.id,traceId:t}}),b({type:"remove",idBoard:n}),$.Analytics.sendUpdatedBoardFieldEvent({field:"organization",value:D.id,source:a,containers:{board:{id:n},organization:{id:D.id}},attributes:v===O.Post?{previous:_.id}:void 0}),$.Analytics.taskSucceeded({taskName:e,traceId:t,source:a})}catch(n){$.Analytics.taskFailed({taskName:e,traceId:t,source:a,error:n}),I(n)}}P()}),[v,_.id,P,p,D,o,b,F]);return Object(t.useEffect)((()=>{(async()=>{try{v!==O.Pre||null!=h&&h.voluntaryDone||await l({variables:{memberId:"me"}})}catch(e){const n=Object(Ke.c)(e);Object(g.sendErrorEvent)(e,{tags:{ownershipArea:"trello-bizteam",feature:s.Feature.MigrationWizard},extraData:{file:"MigrationWizardComplexMoveBoards"},networkError:n})}})()}),[l,h,v]),e||0!==B.length?i.a.createElement("div",{className:Rt.container},i.a.createElement("div",null,i.a.createElement("h2",null,Qt("post-migration-modal-title")),i.a.createElement("p",null,Qt("post-migration-modal-body")),i.a.createElement("hr",null),i.a.createElement("div",{className:Rt.movePrompt},v===O.Post?Qt("post-migration-workspace-old-workspace",{workspaceName:_.displayName}):Qt("create-team-move-boards-add-boards-prompt"))),i.a.createElement(St,{onSelectWorkspace:e=>{y(e),r("")},loading:c,workspaces:d}),i.a.createElement(Jt,{boards:B,loadingBoards:M,workspace:D,selectedBoards:p,updateBoards:b,isMovingBoards:e}),i.a.createElement("hr",{className:Rt.separator}),D&&i.a.createElement("p",{className:Rt.note},Qt("start-migration-footer")),a&&i.a.createElement(_n,{type:"error"},a),i.a.createElement(Ne.Button,{appearance:"primary",className:Rt.doneButton,isDisabled:F,onClick:z,testId:_e.MigrationWizardTestIds.MoveBoardsButton},e?i.a.createElement(zn.a,{small:!0}):Qt("start-migration-add-button"))):i.a.createElement(qt,{isComplexPath:!0})},ei={[f.INTRO]:{key:f.INTRO,ScreenComponent:i.a.createElement(Je,null)},[f.MOVE_YOUR_BOARDS]:{key:f.MOVE_YOUR_BOARDS,ScreenComponent:i.a.createElement(Pn,null),isCloseable:!0},[f.BC_FOR_FREE]:{key:f.BC_FOR_FREE,ScreenComponent:i.a.createElement(Kn,null),isBackAvailable:!0},[f.MEMBERSHIPS]:{key:f.MEMBERSHIPS,ScreenComponent:i.a.createElement(za,null)},[f.BOARD_VISIBILITY]:{key:f.BOARD_VISIBILITY,ScreenComponent:i.a.createElement(rt,null)},[f.COMPLEX_MOVE_BOARDS]:{key:f.COMPLEX_MOVE_BOARDS,ScreenComponent:i.a.createElement($t,null),isCloseable:!0},[f.POST_MIGRATION]:{key:f.POST_MIGRATION,ScreenComponent:i.a.createElement($t,null),isCloseable:!0},[f.DONE]:{key:f.DONE,ScreenComponent:i.a.createElement(qt,null),isCloseable:!1}},ni=()=>{const{currentStep:e,onBack:n,hideWizard:a}=Object(t.useContext)(Oe),{ScreenComponent:r,isCloseable:o,isBackAvailable:s}=ei[e];return i.a.createElement("div",{className:Re.wizard,"data-test-id":_e.MigrationWizardTestIds.Wizard},r,o&&i.a.createElement("button",{className:ze()(Re.iconButton,Re.close),onClick:a},i.a.createElement(Te.a,null)),s&&i.a.createElement("button",{className:ze()(Re.iconButton,Re.back),onClick:n},i.a.createElement(Ce.a,null)))};var ai=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less"),ti={insert:"head",singleton:!1},ii=(Se()(ai.a,ti),ai.a.locals||{});function ri(){return(ri=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const oi=Object(Ee.forNamespace)(["migration wizard"],{shouldEscapeStrings:!1}),si=()=>{const{dismissBanner:e,dialogProps:n,teamify:a}=Object(t.useContext)(Oe),{migrationOrg:r,loading:o}=J({idOrg:(null==a?void 0:a.idOrgCreated)||(null==a?void 0:a.idOrgSelected)||""}),[s,l]=Object(t.useState)(!1),d=r.displayName,c=!s&&!o&&d;return Object(t.useEffect)((()=>{c&&$.Analytics.sendViewedBannerEvent({bannerName:"teamifyBanner",source:Object($.getScreenFromUrl)(),attributes:{forcedMigration:"post"}})}),[c]),c?i.a.createElement("div",{className:ii.bannerWrapper},i.a.createElement(xe.a,{inlinePadding:!0,textClassName:ii.banner},i.a.createElement("span",{className:ii.text},oi("post-migration-banner-content",{workspaceName:d}),i.a.createElement(Ne.Button,{appearance:"subtle-link",className:ii.selectionButton,onClick:()=>{window.open("https://help.trello.com/article/1263-moving-to-workspaces","_blank")}},oi("post-migration-banner-learn-more"))),i.a.createElement("div",{className:ii.rightAligned},i.a.createElement(Ne.Button,{appearance:"primary",className:ii.button,onClick:()=>n.show(),testId:_e.MigrationWizardTestIds.StartButton},oi("post-migration-banner-make-changes")),i.a.createElement(Ne.Button,{className:ze()(ii.button,ii.dismissButton),onClick:()=>{l(!0),e()},testId:_e.MigrationWizardTestIds.DismissButton},oi("post-migration-banner-dismiss")))),i.a.createElement(v.a,ri({},n,{className:ii.dialog,closeOnEscape:!1,closeOnOutsideClick:!1}),i.a.createElement(ni,null))):null};var li=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less"),di={insert:"head",singleton:!1},ci=(Se()(li.a,di),li.a.locals||{});function mi(){return(mi=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}const ui=Object(Ee.forNamespace)(["migration wizard"]),pi=()=>{const{dialogProps:e,teamify:n}=Object(t.useContext)(Oe);Object(t.useEffect)((()=>{$.Analytics.sendViewedBannerEvent({bannerName:"teamifyBanner",source:Object($.getScreenFromUrl)(),attributes:{forcedMigration:"pre"}})}),[]);const a=!(null==n||!n.autoMigration)&&je()(null==n?void 0:n.autoMigration).format("MMMM Do");return i.a.createElement("div",{"data-test-id":_e.MigrationWizardTestIds.PreMigrationBanner,className:ci.bannerWrapper},i.a.createElement(xe.a,{inlinePadding:!0,textClassName:ci.banner},i.a.createElement("span",{className:ci.text},a?ui("pre-migration-banner-with-date",{migrationDate:a}):ui("pre-migration-banner-without-date")),i.a.createElement(Ne.Button,{appearance:"primary",className:ci.button,onClick:()=>{e.show()},testId:_e.MigrationWizardTestIds.StartButton},ui("pre-migration-banner-button"))),i.a.createElement(v.a,mi({},e,{className:ci.dialog,closeOnEscape:!1,closeOnOutsideClick:!1}),i.a.createElement(ni,null)))},bi=()=>{const{isEligible:e,experience:n}=Object(t.useContext)(Oe);return e?n===O.Desktop?i.a.createElement(Ie,null):n===O.Post?i.a.createElement(si,null):i.a.createElement(pi,null):null},gi=()=>i.a.createElement(he,null,i.a.createElement(bi,null))},"./app/src/components/PopoverMenu/index.ts":function(e,n,a){"use strict";a.d(n,"a",(function(){return y})),a.d(n,"b",(function(){return h})),a.d(n,"c",(function(){return O}));var t=a("./node_modules/classnames/index.js"),i=a.n(t),r=a("./app/src/forwardRefComponent.ts"),o=a("./app/src/components/RouterLink/RouterLink.tsx"),s=a("./node_modules/react/index.js"),l=a.n(s),d=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),c=a.n(d),m=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less"),u={insert:"head",singleton:!1},p=(c()(m.a,u),m.a.locals||{}),b=a("./packages/a11y/index.ts");function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function k(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)a=r[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}const v=({children:e,description:n,rawDescription:a,title:t,icon:r})=>l.a.createElement(l.a.Fragment,null,r&&l.a.cloneElement(r,{size:"small"}),l.a.createElement("span",{className:i()(p.title,n&&p.withoutMargins)},t||e),(n||a)&&l.a.createElement("p",{className:p.description},n||a)),f=({appendSeparator:e,children:n})=>l.a.createElement("li",{className:i()(p.item,e&&p.withSeparator)},n),O=e=>{let{appendSeparator:n,testId:a,href:t,target:r,className:s,onClick:d}=e,c=k(e,["appendSeparator","testId","href","target","className","onClick"]);const[m,u]=Object(b.useFocusRing)();return l.a.createElement(f,{appendSeparator:n},l.a.createElement(o.b,g({className:i()(p.link,s,m&&p.linkFocusRing),href:t,testId:a,onClick:d,target:r},u),l.a.createElement(v,c)))},h=Object(r.a)("PopoverMenuButton",((e,n)=>{let{appendSeparator:a,onClick:t,className:r,disabled:o,testId:s}=e,d=k(e,["appendSeparator","onClick","className","disabled","testId"]);const[c,m]=Object(b.useFocusRing)();return l.a.createElement(f,{appendSeparator:a},l.a.createElement("button",g({className:i()(p.link,c&&p.linkFocusRing,r),disabled:o,onClick:t,"data-test-id":s,ref:n},m),l.a.createElement(v,d)))})),y=({className:e,children:n,testId:a})=>l.a.createElement("nav",{className:e},l.a.createElement("ul",{"data-test-id":a},n))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibility.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._20ToTHyl4B9a4i {\n  text-align: center;\n  padding: 32px 0 16px 0;\n}\n._20ToTHyl4B9a4i h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n._20ToTHyl4B9a4i p {\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n._20ToTHyl4B9a4i p._2wYA_JBZoTv666 {\n  color: #5E6C84;\n  margin-bottom: 8px;\n}\n._20ToTHyl4B9a4i hr {\n  margin-top: 0;\n  background-color: #EBECF0;\n}\n._20ToTHyl4B9a4i table,\n._20ToTHyl4B9a4i thead,\n._20ToTHyl4B9a4i tbody,\n._20ToTHyl4B9a4i th,\n._20ToTHyl4B9a4i tr,\n._20ToTHyl4B9a4i td {\n  background: none;\n  border: none;\n  text-align: left;\n  padding: 0;\n}\nul._1mdDDHqKA9cXhk {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 24px;\n}\nul._1mdDDHqKA9cXhk li {\n  display: flex;\n  width: 344px;\n  align-items: center;\n  text-align: left;\n  margin-bottom: 8px;\n  font-size: 12px;\n  line-height: 16px;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6 {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 24px;\n  align-items: center;\n  justify-content: center;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  margin-right: 8px;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6._21TeHw14vwvHFR svg {\n  color: #E79217;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6._1No_4M4BbztYfs svg {\n  color: #CF513D;\n}\nul._1mdDDHqKA9cXhk li ._2mbdsNJhP6zag6._2MsJpFIq9m0ctx svg {\n  color: #026AA7;\n}\n._1AwT4ExUdxCNpO {\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  max-height: 320px;\n}\n._1AwT4ExUdxCNpO table {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n._1AwT4ExUdxCNpO table thead th {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 16px;\n  position: -webkit-sticky;\n  position: sticky;\n  /* stylelint-disable-line */\n  top: 0;\n  padding-bottom: 8px;\n  background-color: #F4F5F7;\n  z-index: 1;\n  border-bottom: 1px solid #EBECF0;\n}\n._1AwT4ExUdxCNpO table tbody td {\n  padding: 0;\n  vertical-align: middle;\n}\n._1AwT4ExUdxCNpO table tbody td:first-child {\n  width: 100%;\n}\n._1AwT4ExUdxCNpO table tbody tr:first-of-type td {\n  padding-top: 4px;\n}\n.SZ1D6P5kPQLG8D {\n  padding-right: 8px;\n}\n._1zHXmhGE1laU3o {\n  padding-left: 56px;\n  padding-right: 56px;\n  margin-bottom: 0;\n}\n",""]),i.locals={container:"_20ToTHyl4B9a4i",footerText:"_2wYA_JBZoTv666",visibilityList:"_1mdDDHqKA9cXhk",permissionIcon:"_2mbdsNJhP6zag6",stayPrivate:"_21TeHw14vwvHFR",private:"_1No_4M4BbztYfs",team:"_2MsJpFIq9m0ctx",tableWrapper:"_1AwT4ExUdxCNpO",boardTile:"SZ1D6P5kPQLG8D",button:"_1zHXmhGE1laU3o"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardVisibilityChooser.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3qxuy4JrWbWFcB {\n  margin: 0;\n  min-width: 96px;\n  width: 172px;\n  justify-content: space-between;\n}\n._3qxuy4JrWbWFcB ._3Z6k0eEMpAG9Rg {\n  width: 20px;\n  height: 20px;\n  margin-left: 8px;\n}\n._2iZdT_JkCK6M3H:hover[disabled] ._2dCkdQ4Va5hhWj,\n._2iZdT_JkCK6M3H:active[disabled] ._2dCkdQ4Va5hhWj,\n._2iZdT_JkCK6M3H:hover[disabled] ._1_TMwQZ810b3EV,\n._2iZdT_JkCK6M3H:active[disabled] ._1_TMwQZ810b3EV,\n._2iZdT_JkCK6M3H:hover[disabled] .dFGKssw7PteVSl,\n._2iZdT_JkCK6M3H:active[disabled] .dFGKssw7PteVSl {\n  color: #6B778C !important;\n}\n._2dCkdQ4Va5hhWj {\n  margin-left: 8px;\n}\n._1QrDKsRRiltn7k {\n  margin: 0 -12px;\n}\n.dFGKssw7PteVSl {\n  margin-right: 8px;\n}\n._2kkAtGHeSOYbGH,\n.FwdLSlvqRddowT {\n  color: #EB5A46;\n}\n._1Iaka91nBKRZKE {\n  color: #5AAC44;\n}\n._1_TMwQZ810b3EV {\n  color: #6B778C;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 16px;\n  margin-top: 4px;\n}\n._293fEXEyU4kPfO {\n  color: #6B778C;\n}\n",""]),i.locals={visibilityButton:"_3qxuy4JrWbWFcB",buttonIcon:"_3Z6k0eEMpAG9Rg",menuItem:"_2iZdT_JkCK6M3H",checkmark:"_2dCkdQ4Va5hhWj",subName:"_1_TMwQZ810b3EV",iconVis:"dFGKssw7PteVSl",popoverMenu:"_1QrDKsRRiltn7k",iconPrivate:"_2kkAtGHeSOYbGH",error:"FwdLSlvqRddowT",iconPublic:"_1Iaka91nBKRZKE",disabled:"_293fEXEyU4kPfO"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBoardsList.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".xEHnFewEo3hoUK {\n  margin-top: 24px;\n}\n._3WxZku_t9zgxHZ {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  max-height: 248px;\n}\n._3WxZku_t9zgxHZ ._338v9dlm_TpV9B {\n  width: 50%;\n  box-sizing: border-box;\n}\n._3WxZku_t9zgxHZ ._338v9dlm_TpV9B:nth-child(odd) {\n  padding-right: 4px;\n}\n._3WxZku_t9zgxHZ ._338v9dlm_TpV9B:nth-child(even) {\n  padding-left: 4px;\n}\n._3FjWvfWZ16wT_X {\n  font-size: 12px;\n  line-height: 16px;\n  padding: 0;\n  margin: 0 0 0 16px;\n}\n",""]),i.locals={boardsContainer:"xEHnFewEo3hoUK",boards:"_3WxZku_t9zgxHZ",boardTile:"_338v9dlm_TpV9B",selectionButton:"_3FjWvfWZ16wT_X"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardBusinessClass.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".ABdmgtAl6VMRfj {\n  text-align: center;\n  padding: 24px 0 16px 0;\n}\n.ABdmgtAl6VMRfj ._3qmHISxRm04k24 {\n  margin-bottom: 16px;\n}\n.ABdmgtAl6VMRfj h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n.ABdmgtAl6VMRfj h3 {\n  font-weight: normal;\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0 0 16px 0;\n}\n.ABdmgtAl6VMRfj p {\n  font-size: 14px;\n  line-height: 20px;\n  margin: 0 0 16px 0;\n}\n.ABdmgtAl6VMRfj hr {\n  background-color: #EBECF0;\n}\nul._2RQwunnm51nWbs {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\nul._2RQwunnm51nWbs li {\n  display: flex;\n  width: 304px;\n  align-items: center;\n  text-align: left;\n  margin-bottom: 8px;\n  font-size: 12px;\n  line-height: 16px;\n}\nul._2RQwunnm51nWbs li ._3sU9K3d6kegIMg {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 24px;\n  align-items: center;\n  justify-content: center;\n  background: #F7F0FA;\n  border-radius: 3px;\n  margin-right: 8px;\n}\nul._2RQwunnm51nWbs li ._3sU9K3d6kegIMg svg {\n  color: #6C547B;\n}\n._11koRzfsCStEAY {\n  padding-left: 56px;\n  padding-right: 56px;\n  margin-bottom: 16px;\n}\np._2WnwHr9D_EbdIc {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0;\n}\n",""]),i.locals={container:"ABdmgtAl6VMRfj",sparkle:"_3qmHISxRm04k24",featureList:"_2RQwunnm51nWbs",featureIcon:"_3sU9K3d6kegIMg",button:"_11koRzfsCStEAY",disclaimer:"_2WnwHr9D_EbdIc"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexCreateWorkspace.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3ROPcLMxhMkK7n label {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  text-transform: uppercase;\n  margin: 0 0 4px 0;\n}\n._3pGO5rxUjNTEhQ {\n  margin-bottom: 8px;\n}\n._1iMlhdzRIgxKiQ {\n  margin-bottom: 16px;\n}\n",""]),i.locals={createWorkspace:"_3ROPcLMxhMkK7n",workspaceName:"_3pGO5rxUjNTEhQ",workspaceType:"_1iMlhdzRIgxKiQ"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardComplexMoveBoardsWorkspaceChooser.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._1ywruFoq_yToSl {\n  width: 100%;\n  margin-bottom: 8px;\n  justify-content: space-between;\n}\n._24NJ0COzxv618j {\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  width: 536px;\n}\n._21v4WyrYPf78XR {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 300px;\n}\n._21v4WyrYPf78XR[disabled],\n._21v4WyrYPf78XR[disabled] p {\n  background: transparent;\n  color: #A5ADBA;\n}\n._21v4WyrYPf78XR[disabled] a {\n  background: transparent;\n  color: #5E6C84;\n}\n._21v4WyrYPf78XR._2AWoKGX-vyWJlY {\n  background-color: rgba(9, 30, 66, 0.08);\n}\n",""]),i.locals={workspaceListButton:"_1ywruFoq_yToSl",workspacePopover:"_24NJ0COzxv618j",workspaceOption:"_21v4WyrYPf78XR",selected:"_2AWoKGX-vyWJlY"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardCreateTeamMoveBoards.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".e4oQ80hhwskgm0 {\n  padding: 32px 0 16px 0;\n}\n.e4oQ80hhwskgm0 h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  text-align: center;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n.e4oQ80hhwskgm0 p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n.e4oQ80hhwskgm0 hr {\n  background-color: #EBECF0;\n}\n.e4oQ80hhwskgm0 label {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n.e4oQ80hhwskgm0 input {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  padding: 12px 8px;\n  width: 100%;\n  margin: 0 0 8px 0;\n}\n.e4oQ80hhwskgm0 h3 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  text-transform: uppercase;\n  margin: 0 0 4px 0;\n}\n.JpFkq3ylJ7WaJB {\n  font-size: 12px;\n  line-height: 16px;\n  margin: 0 0 24px 0;\n  padding: 0;\n}\n._7K5eXLmpVDVVn_ {\n  font-size: 12px;\n  line-height: 16px;\n  padding: 0;\n  margin: 0 0 0 16px;\n}\n._1OsL-cFwsCnpoR {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 0 -4px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n  max-height: 248px;\n}\n._1OsL-cFwsCnpoR ._2zSCkkU6MFcgvU {\n  width: 50%;\n  box-sizing: border-box;\n}\n._1OsL-cFwsCnpoR ._2zSCkkU6MFcgvU:nth-child(odd) {\n  padding-right: 4px;\n}\n._1OsL-cFwsCnpoR ._2zSCkkU6MFcgvU:nth-child(even) {\n  padding-left: 4px;\n}\n._2rnoWooBGJEBln {\n  margin: 4px 0 8px 0;\n}\np.ejKbWRdfty_ZPo {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n._2SHKl3L07vUFxI {\n  display: block;\n  padding-left: 56px;\n  padding-right: 56px;\n  margin: 0 auto;\n}\n",""]),i.locals={container:"e4oQ80hhwskgm0",selectAnotherButton:"JpFkq3ylJ7WaJB",selectionButton:"_7K5eXLmpVDVVn_",boards:"_1OsL-cFwsCnpoR",boardTile:"_2zSCkkU6MFcgvU",bottomLine:"_2rnoWooBGJEBln",note:"ejKbWRdfty_ZPo",nextButton:"_2SHKl3L07vUFxI"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDesktopBanner.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._2OekdlJYc9McUk {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0;\n}\n._2gFQNGMxGXLxYz {\n  margin: 0;\n  padding-left: 32px;\n  padding-right: 32px;\n}\n._2gFQNGMxGXLxYz._3eaGuhNRK6FJvX {\n  background: rgba(9, 30, 66, 0.04);\n}\n._2gFQNGMxGXLxYz:focus {\n  outline: #5AAC44;\n}\n._1bzvFxjMNzOWjI {\n  padding: 0;\n  min-width: 600px;\n  max-width: 100%;\n  min-height: 64px;\n}\n",""]),i.locals={banner:"_2OekdlJYc9McUk",button:"_2gFQNGMxGXLxYz",neutral:"_3eaGuhNRK6FJvX",dialog:"_1bzvFxjMNzOWjI"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDialog.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3fq67aAoNwFU5p {\n  position: relative;\n  padding: 0 32px;\n}\n._2W470ikPWwsTS3 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  width: 32px;\n  height: 32px;\n  top: 8px;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  padding: 0;\n  margin: 0;\n}\n._2W470ikPWwsTS3._1AEK3Yff1CjD8Z {\n  left: 8px;\n}\n._2W470ikPWwsTS3._3S032jE8Od0ShI {\n  right: 8px;\n}\n._2W470ikPWwsTS3:hover {\n  background: rgba(9, 30, 66, 0.08);\n}\n",""]),i.locals={wizard:"_3fq67aAoNwFU5p",iconButton:"_2W470ikPWwsTS3",back:"_1AEK3Yff1CjD8Z",close:"_3S032jE8Od0ShI"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardDone.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".fugpk3WLByvVvq {\n  padding: 32px 0 16px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.fugpk3WLByvVvq h1 {\n  color: #172B4D;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  text-align: center;\n  font-weight: 500;\n  font-size: 24px;\n  margin: 24px 0 8px 0;\n}\n.fugpk3WLByvVvq p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n.fugpk3WLByvVvq img {\n  height: 160px;\n}\n._1xF6Sv4w-b8Pqh {\n  display: block;\n  padding-left: 56px;\n  padding-right: 56px;\n  margin: 0 auto;\n}\n",""]),i.locals={container:"fugpk3WLByvVvq",doneButton:"_1xF6Sv4w-b8Pqh"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMembershipDropdown.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,".brmsSQ1tAYaT4R {\n  margin: 0;\n  min-width: 96px;\n  width: 172px;\n  justify-content: space-between;\n}\n.cZt76_aix1ztkN {\n  width: 14px;\n}\n._1qKZM77zsxM2U3 {\n  color: #172B4D;\n  padding: 6px 12px;\n  margin: 0 -12px;\n}\n._-623IXK8gDsYPP {\n  clear: both;\n  color: #5E6C84;\n  display: block;\n  font-size: 12px;\n  font-weight: normal;\n  line-height: 16px;\n  margin-top: 4px;\n}\n._3UB1sgZl_KfxDN {\n  margin-left: 8px;\n  color: #6B778C;\n}\n",""]),i.locals={permissionButton:"brmsSQ1tAYaT4R",downIcon:"cZt76_aix1ztkN",membershipTitle:"_1qKZM77zsxM2U3",membershipSubText:"_-623IXK8gDsYPP",checkmark:"_3UB1sgZl_KfxDN"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMessagePill.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3dutmTTJVDSCMX {\n  padding: 8px;\n  margin-bottom: 8px;\n  width: 100%;\n  min-height: 32px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  font-size: 12px;\n  line-height: 16px;\n  text-align: left;\n}\n._3dutmTTJVDSCMX h2,\n._3dutmTTJVDSCMX h3,\n._3dutmTTJVDSCMX h4,\n._3dutmTTJVDSCMX h5,\n._3dutmTTJVDSCMX h6 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  margin-top: 0;\n  margin-bottom: 4px;\n}\n._3dutmTTJVDSCMX p:last-child {\n  margin-bottom: 0;\n}\n._1M5oYXd5zPBFvM {\n  color: #FFFFFF;\n  background: #CF513D;\n}\n._1M5oYXd5zPBFvM h2,\n._1M5oYXd5zPBFvM h3,\n._1M5oYXd5zPBFvM h4,\n._1M5oYXd5zPBFvM h5,\n._1M5oYXd5zPBFvM h6 {\n  color: #FFFFFF;\n}\n._1M5oYXd5zPBFvM a {\n  color: #FFFFFF;\n}\n._1M5oYXd5zPBFvM a:hover,\n._1M5oYXd5zPBFvM a:active {\n  color: #F5D3CE;\n}\n._6YLS3JNUm8n5gb {\n  color: #172B4D;\n  background: #E4F0F6;\n}\n._6YLS3JNUm8n5gb h2,\n._6YLS3JNUm8n5gb h3,\n._6YLS3JNUm8n5gb h4,\n._6YLS3JNUm8n5gb h5,\n._6YLS3JNUm8n5gb h6 {\n  color: #172B4D;\n}\n._6YLS3JNUm8n5gb a {\n  color: #172B4D;\n}\n._6YLS3JNUm8n5gb a:hover,\n._6YLS3JNUm8n5gb a:active {\n  color: #42526E;\n}\n",""]),i.locals={pill:"_3dutmTTJVDSCMX",error:"_1M5oYXd5zPBFvM",alert:"_6YLS3JNUm8n5gb"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardMoveBoards.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3VzXs0CUR00vmO {\n  padding: 32px 0 16px 0;\n}\n._3VzXs0CUR00vmO h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  text-align: center;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n._3VzXs0CUR00vmO p {\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n._3VzXs0CUR00vmO hr {\n  background-color: #EBECF0;\n}\n._3VzXs0CUR00vmO ._3mtz7UTlL4h32N {\n  color: #172B4D;\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  line-height: 20px;\n  margin-top: 24px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n._3VzXs0CUR00vmO h3 {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 20px;\n  text-transform: uppercase;\n  margin: 0 0 4px 0;\n}\n._1xq0izJltZWvUm {\n  margin-top: 8px;\n}\np.wBSK2AO5YsBzTi {\n  font-size: 12px;\n  line-height: 16px;\n  color: #5E6C84;\n  margin: 0 0 8px 0;\n}\n.BNZM6D1DHItxkG {\n  display: block;\n  padding-left: 56px;\n  padding-right: 56px;\n  margin: 0 auto;\n}\n",""]),i.locals={container:"_3VzXs0CUR00vmO",movePrompt:"_3mtz7UTlL4h32N",separator:"_1xq0izJltZWvUm",note:"wBSK2AO5YsBzTi",doneButton:"BNZM6D1DHItxkG"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPostMigrationBanner.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"@media only screen and (max-width: 750px) {\n  ._2n7US8x-LwcMu0 {\n    display: none;\n  }\n}\n._3rUKeW0PvqCLfT {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0;\n}\n._3qulLld4TWXJ3y {\n  margin: 0;\n  padding-left: 32px;\n  padding-right: 32px;\n}\n._3qulLld4TWXJ3y._1q6cehuOwyBIAI {\n  background: rgba(9, 30, 66, 0.04);\n}\n._3qulLld4TWXJ3y:focus {\n  outline: #5AAC44;\n}\n._23AKDKWmURuI0B {\n  margin-left: 4px;\n}\n.-bsL5XSncH9WOK {\n  padding: 0;\n  min-width: 600px;\n  max-width: 100%;\n  min-height: 64px;\n}\n._3lE3uX2MnqJdYL {\n  margin-bottom: 0;\n}\n",""]),i.locals={bannerWrapper:"_2n7US8x-LwcMu0",banner:"_3rUKeW0PvqCLfT",button:"_3qulLld4TWXJ3y",neutral:"_1q6cehuOwyBIAI",dismissButton:"_23AKDKWmURuI0B",dialog:"-bsL5XSncH9WOK",selectionButton:"_3lE3uX2MnqJdYL"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardPreMigrationBanner.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"@media only screen and (max-width: 750px) {\n  ._1G1wXGsYuR0sE8 {\n    display: none;\n  }\n}\n._3OqhdEa1trMCAV {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 0;\n}\n.eQ5kYO8Qjp5w2J {\n  margin: 0;\n  padding-left: 32px;\n  padding-right: 32px;\n}\n.eQ5kYO8Qjp5w2J._2c0udMzy5ww2wi {\n  background: rgba(9, 30, 66, 0.04);\n}\n.eQ5kYO8Qjp5w2J:focus {\n  outline: #5AAC44;\n}\n._2ykX_-9GTAm4D6 {\n  padding: 0;\n  min-width: 600px;\n  max-width: 100%;\n  min-height: 64px;\n}\n",""]),i.locals={bannerWrapper:"_1G1wXGsYuR0sE8",banner:"_3OqhdEa1trMCAV",button:"eQ5kYO8Qjp5w2J",neutral:"_2c0udMzy5ww2wi",dialog:"_2ykX_-9GTAm4D6"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardStart.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._2J6XriBYzJwF9A {\n  display: flex;\n  align-items: center;\n  text-align: center;\n  flex-direction: column;\n  padding: 24px 16px;\n}\n._2J6XriBYzJwF9A .NtIlIJFuBP5aqm {\n  font-size: 24px;\n  margin-top: 24px;\n  margin-bottom: 0;\n  line-height: 32px;\n}\n._2J6XriBYzJwF9A ._2EU2avm0mKlIIQ {\n  margin: 8px 0 32px;\n}\n._2J6XriBYzJwF9A ._2rl73HRUx9KkgA {\n  color: #5E6C84;\n  margin: 16px auto;\n}\n._2J6XriBYzJwF9A ._2gyIgNzXsyOCWs {\n  color: #5E6C84;\n  font-size: 12px;\n  margin-bottom: 0;\n}\n",""]),i.locals={container:"_2J6XriBYzJwF9A",startMigrationTitle:"NtIlIJFuBP5aqm",startMigrationBody:"_2EU2avm0mKlIIQ",line:"_2rl73HRUx9KkgA",footerText:"_2gyIgNzXsyOCWs"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MigrationWizard/MigrationWizardTeamMemberships.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._2LNR2AZaZ3-v2I {\n  text-align: center;\n  padding: 32px 0 16px 0;\n}\n._2LNR2AZaZ3-v2I .isP4BNKL76fk1o {\n  margin-top: 16px;\n}\n._2LNR2AZaZ3-v2I h2 {\n  color: #172B4D;\n  font-size: 24px;\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  line-height: 28px;\n  margin-top: 40px;\n  font-weight: 500;\n  margin: 0 0 8px 0;\n}\n._2LNR2AZaZ3-v2I p {\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 24px;\n}\n._2LNR2AZaZ3-v2I p._1jFCSOfoa-UBLI {\n  color: #5E6C84;\n  margin-bottom: 8px;\n}\n._2LNR2AZaZ3-v2I hr {\n  background-color: #EBECF0;\n}\n._3uYMhop2UfoZlI {\n  overflow-x: hidden;\n  overflow-y: auto;\n  max-height: 240px;\n  padding-right: 16px;\n  margin-right: -16px;\n}\n._3uYMhop2UfoZlI table,\n._3uYMhop2UfoZlI thead,\n._3uYMhop2UfoZlI tbody,\n._3uYMhop2UfoZlI th,\n._3uYMhop2UfoZlI tr,\n._3uYMhop2UfoZlI td {\n  background: none;\n  border: none;\n  text-align: left;\n  padding: 0;\n}\n._3uYMhop2UfoZlI table {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n._3uYMhop2UfoZlI table thead {\n  border-bottom: 1px solid #EBECF0;\n}\n._3uYMhop2UfoZlI table thead th {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 16px;\n  margin-top: 16px;\n  position: -webkit-sticky;\n  position: sticky;\n  /* stylelint-disable-line */\n  top: 0;\n  padding-bottom: 8px;\n  background-color: #F4F5F7;\n  z-index: 1;\n}\n._3uYMhop2UfoZlI table tbody td {\n  padding: 8px 0;\n  vertical-align: middle;\n}\n._3uYMhop2UfoZlI table tbody td:first-child {\n  width: 100%;\n}\nul._1D3lNlGrOZuIqa {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 24px;\n}\nul._1D3lNlGrOZuIqa li {\n  display: flex;\n  width: 312px;\n  align-items: center;\n  text-align: left;\n  margin-bottom: 8px;\n  font-size: 12px;\n  line-height: 16px;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa {\n  display: flex;\n  width: 24px;\n  height: 24px;\n  flex: 0 0 24px;\n  align-items: center;\n  justify-content: center;\n  background: rgba(9, 30, 66, 0.04);\n  border-radius: 3px;\n  margin-right: 8px;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa._1KxuNFUJcW_GWN svg {\n  color: #0079BF;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa.tSzPxHb0pZTIUV svg {\n  color: #CF513D;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa._3BKGLBUTrawNa8 svg {\n  color: #E79217;\n}\nul._1D3lNlGrOZuIqa li ._2b--JRYbNisqNa._2zzw-dcob8BhXf svg {\n  color: #5AAC44;\n}\n._2yOnPDXRNFFIeJ {\n  display: flex;\n  align-items: center;\n}\n._2yOnPDXRNFFIeJ .GAsnRF5V2W1fpj {\n  width: 32px;\n  height: 32px;\n  flex: 0 0 32px;\n  margin-right: 8px;\n}\n._2yOnPDXRNFFIeJ ._1d8tZmlgdq9xF7 {\n  flex: 1;\n  font-size: 12px;\n  line-height: 16px;\n  width: 40px;\n}\n._2yOnPDXRNFFIeJ ._1d8tZmlgdq9xF7 ._34MOVfgW5C3ubh {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n._2yOnPDXRNFFIeJ ._2Jqu8gAZY6A5_a {\n  color: #5E6C84;\n}\n._1M-7zGIN6wKjua {\n  display: block;\n  background-color: #CF513D;\n  color: #FFFFFF;\n  margin-bottom: 10px;\n  padding: 10px;\n  font-size: 12px;\n}\n.Rs9tObjGVtSkwu {\n  padding-left: 56px;\n  padding-right: 56px;\n  margin-bottom: 0;\n}\n",""]),i.locals={container:"_2LNR2AZaZ3-v2I",spinner:"isP4BNKL76fk1o",footerText:"_1jFCSOfoa-UBLI",tableWrapper:"_3uYMhop2UfoZlI",permissionsList:"_1D3lNlGrOZuIqa",permissionIcon:"_2b--JRYbNisqNa",guests:"_1KxuNFUJcW_GWN",members:"tSzPxHb0pZTIUV",private:"_3BKGLBUTrawNa8",aaua:"_2zzw-dcob8BhXf",member:"_2yOnPDXRNFFIeJ",memberAvatar:"GAsnRF5V2W1fpj",memberDetails:"_1d8tZmlgdq9xF7",memberFullName:"_34MOVfgW5C3ubh",memberUsername:"_2Jqu8gAZY6A5_a",updateMembershipsError:"_1M-7zGIN6wKjua",nextButton:"Rs9tObjGVtSkwu"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverMenu/PopoverMenu.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,'._3Qtx4lodxp9J0E {\n  background-color: transparent;\n  border: none;\n  background: #FFFFFF;\n  border-radius: 0;\n  box-shadow: none;\n  color: #172B4D;\n  display: block;\n  height: 100%;\n  padding: 6px 12px;\n  text-align: left;\n  text-decoration: none;\n  width: 100%;\n  transition: none;\n  margin: 0;\n  outline: 0;\n}\n._3Qtx4lodxp9J0E:hover {\n  background-color: transparent;\n  border: none;\n  box-shadow: none;\n  background: rgba(9, 30, 66, 0.04);\n}\n._3Qtx4lodxp9J0E:active {\n  background-color: transparent;\n  border: none;\n  box-shadow: none;\n  background: #E4F0F6;\n}\n._3Qtx4lodxp9J0E._31k3XfnerJgTZ8:focus {\n  /*\n    TODO\n    Ideally we want to remove the global :focus override from classic.\n    It hurts accessibility and forces us to do stuff like this.\n    Once it is done, this can be removed.\n  */\n  outline: black dotted 1px;\n}\n@media screen and (-webkit-min-device-pixel-ratio: 0) {\n  ._3Qtx4lodxp9J0E._31k3XfnerJgTZ8:focus {\n    outline: -webkit-focus-ring-color auto 5px;\n  }\n}\n._3Qtx4lodxp9J0E[disabled]:active,\n._3Qtx4lodxp9J0E[disabled]:focus,\n._3Qtx4lodxp9J0E[disabled]:hover {\n  background: transparent;\n  color: #A5ADBA !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active ._3Gw3Oa5-RMe50s svg,\n._3Qtx4lodxp9J0E[disabled]:focus ._3Gw3Oa5-RMe50s svg,\n._3Qtx4lodxp9J0E[disabled]:hover ._3Gw3Oa5-RMe50s svg {\n  color: #A5ADBA !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active span[name="check"],\n._3Qtx4lodxp9J0E[disabled]:focus span[name="check"],\n._3Qtx4lodxp9J0E[disabled]:hover span[name="check"] {\n  color: #6B778C !important;\n}\n._3Qtx4lodxp9J0E[disabled]:active .M91aWYFMf7mrFf,\n._3Qtx4lodxp9J0E[disabled]:focus .M91aWYFMf7mrFf,\n._3Qtx4lodxp9J0E[disabled]:hover .M91aWYFMf7mrFf {\n  color: #A5ADBA !important;\n}\n._3jTRr1WChvvqHf {\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 20px;\n}\n._3jTRr1WChvvqHf._2VCqfvi0epFnIK {\n  margin: 0;\n}\n.M91aWYFMf7mrFf {\n  color: #5E6C84;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 16px;\n  margin: 4px 0 0 0;\n  padding: 0;\n}\n.DIhgdvAd-R4ToE::after {\n  background-color: rgba(9, 30, 66, 0.13);\n  content: " ";\n  display: block;\n  height: 1px;\n  margin: 8px auto;\n  width: calc(100% - 20px);\n}\n',""]),i.locals={link:"_3Qtx4lodxp9J0E",linkFocusRing:"_31k3XfnerJgTZ8",icon:"_3Gw3Oa5-RMe50s",description:"M91aWYFMf7mrFf",title:"_3jTRr1WChvvqHf",withoutMargins:"_2VCqfvi0epFnIK",withSeparator:"DIhgdvAd-R4ToE"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/SelectableCompactBoardTile/SelectableCompactBoardTile.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3OZu-wDUWQan4V {\n  display: flex;\n  flex: 1;\n  min-width: 0;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center;\n  margin: 4px;\n  border-radius: 3px;\n  opacity: 0.7;\n}\n._3OZu-wDUWQan4V._3lGIRy-sr6rbwr {\n  cursor: pointer;\n}\n._3OZu-wDUWQan4V._3lGIRy-sr6rbwr:hover {\n  opacity: 1;\n}\n._3tGO8hwBuqKsJM {\n  flex-shrink: 0;\n  background-size: cover;\n  height: 36px;\n  width: 36px;\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n._3Tn7u3ogHUKO4Y {\n  display: flex;\n  flex-grow: 1;\n  min-width: 0;\n  background-color: rgba(255, 255, 255, 0.7);\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n.sO9IpUgvupHb_U {\n  flex-grow: 1;\n  flex-basis: 0%;\n  min-width: 0;\n  padding-left: 9px;\n  padding-right: 9px;\n}\n._37whG-idEwfS3g {\n  color: #172B4D;\n  font-weight: bold;\n  line-height: 36px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n._36zOougF5nsDD2 {\n  width: 36px;\n  flex-shrink: 1;\n  line-height: 36px;\n  text-align: center;\n  font-weight: bold;\n  -webkit-user-select: none;\n          user-select: none;\n}\n._3no4boexbvL1Ua {\n  opacity: 1;\n}\n._3xtAZq8MRct8Fo {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n",""]),i.locals={container:"_3OZu-wDUWQan4V",selectable:"_3lGIRy-sr6rbwr",boardThumbnail:"_3tGO8hwBuqKsJM",boardDescription:"_3Tn7u3ogHUKO4Y",boardNameWrapper:"sO9IpUgvupHb_U",boardName:"_37whG-idEwfS3g",checkmark:"_36zOougF5nsDD2",selectedCompactBoardTile:"_3no4boexbvL1Ua",disabled:"_3xtAZq8MRct8Fo"},n.a=i},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less":function(e,n,a){"use strict";var t=a("./node_modules/css-loader/dist/runtime/api.js"),i=a.n(t)()(!1);i.push([e.i,"._3YGsFyACTefHYF {\n  margin: 0;\n}\n._3jRzoY8BUC9T9r {\n  display: flex;\n}\n._3jRzoY8BUC9T9r .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._3jRzoY8BUC9T9r ._1iZ4r0EebD-_AO {\n  flex: 1;\n}\n._24YY3ffS5pAZxi {\n  align-items: center;\n  color: #091E42;\n  display: flex;\n  font-size: 14px;\n  font-weight: normal;\n}\n._24YY3ffS5pAZxi .VZsWvb5qVISKPp {\n  margin-left: 3px;\n  margin-top: 2px;\n}\n._24YY3ffS5pAZxi ._1ragvyIlBWNN0g {\n  flex: 1;\n}\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1- {\n  display: block;\n  padding: 8px;\n  margin-top: 4px;\n}\n.Yv_Jd5QjuO4P7w label {\n  cursor: pointer;\n}\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:hover,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:hover,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:hover,\n.Yv_Jd5QjuO4P7w ._24YY3ffS5pAZxi:focus-visible,\n.Yv_Jd5QjuO4P7w ._2BpqOEsSdnZi8i:focus-visible,\n.Yv_Jd5QjuO4P7w ._1O4iygPyhEyA1-:focus-visible {\n  background: rgba(9, 30, 66, 0.04);\n}\n",""]),i.locals={colorVisionLabel:"_3YGsFyACTefHYF",colorVisionOptions:"_3jRzoY8BUC9T9r",checkbox:"VZsWvb5qVISKPp",select:"_1iZ4r0EebD-_AO",tota11yOptions:"_24YY3ffS5pAZxi",label:"_1ragvyIlBWNN0g",accessibilityMenuWrapper:"Yv_Jd5QjuO4P7w",link:"_1O4iygPyhEyA1-",checkboxLabel:"_2BpqOEsSdnZi8i"},n.a=i},"./packages/a11y/index.ts":function(e,n,a){"use strict";a.r(n),a.d(n,"AccessibilityMenu",(function(){return j})),a.d(n,"AccessibilityMenuOptions",(function(){return N})),a.d(n,"a11yMenuState",(function(){return c})),a.d(n,"useFocusRing",(function(){return x}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/icons/external-link.tsx"),o=a("./packages/nachos/checkbox.ts"),s=a("./packages/shared-state/index.ts"),l=a("./node_modules/uuid/v4.js"),d=a.n(l);const c=new s.b({colorVisionMode:"",isColorVisionEnabled:!1,isTota11yInstalled:!1,isTota11yEnabled:!1});var m,u=a("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=a.n(u),b=a("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js?!./packages/a11y/src/AccessibilityMenu/AccessibilityMenu.less"),g={insert:"head",singleton:!1},k=(p()(b.a,g),b.a.locals||{});!function(e){e.Achromatopsia="Achromatopsia",e.BlurredVision="Blurred Vision",e.Deuteranopia="Deuteranopia",e.Protanopia="Protanopia",e.Tritanopia="Tritanopia"}(m||(m={}));const v=new Map([[m.Achromatopsia,'<feColorMatrix values="\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.213  0.715  0.072  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[m.BlurredVision,'<feGaussianBlur stdDeviation="2" />'],[m.Deuteranopia,'<feColorMatrix values="\n        0.367  0.861 -0.228  0.000  0.000\n        0.280  0.673  0.047  0.000  0.000\n        -0.012  0.043  0.969  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[m.Protanopia,'<feColorMatrix values="\n        0.152  1.053 -0.205  0.000  0.000\n        0.115  0.786  0.099  0.000  0.000\n        -0.004 -0.048  1.052  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />'],[m.Tritanopia,'<feColorMatrix values="\n        1.256 -0.077 -0.179  0.000  0.000\n        -0.078  0.931  0.148  0.000  0.000\n        0.005  0.691  0.304  0.000  0.000\n        0.000  0.000  0.000  1.000  0.000\n      " />']]),f=()=>{const[{colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:a,isTota11yEnabled:r},l]=Object(s.c)(c),m=Object(t.useCallback)((()=>{l({colorVisionMode:e,isColorVisionEnabled:!n,isTota11yInstalled:a,isTota11yEnabled:r})}),[l,e,n,a,r]),u=Object(t.useCallback)((({target:{value:e}})=>l({colorVisionMode:e,isColorVisionEnabled:n,isTota11yInstalled:a,isTota11yEnabled:r})),[l,n,a,r]),p=d()();return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:p,className:k.colorVisionLabel},"Color vision emulation"),i.a.createElement("div",{className:k.colorVisionOptions},i.a.createElement(o.a,{className:k.checkbox,isChecked:n,onChange:m,id:p}),i.a.createElement("select",{disabled:!n,className:k.select,"aria-label":"Color vision emulation options",onChange:u,defaultValue:e},i.a.createElement("option",{disabled:!0,value:""},"Select an emulation"),[...v.keys()].map((e=>i.a.createElement("option",{key:e,value:e},e))))))},O=()=>{var e;const[{colorVisionMode:n,isColorVisionEnabled:a}]=Object(s.c)(c),t=null===(e=v.get(n))||void 0===e?void 0:e.replace(/(\n|^\s|\s$)/g,""),r=d()();return a&&t?i.a.createElement("style",null,'#trello-root {\n      filter: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="'.concat(r,'">').concat(t,"</filter></svg>#").concat(r,"');\n    }")):null},h=()=>{const[{isTota11yEnabled:e,colorVisionMode:n,isColorVisionEnabled:r},l]=Object(s.c)(c),m=Object(t.useCallback)((async()=>{e||(await a.e(201).then(a.t.bind(null,"./node_modules/@khanacademy/tota11y/dist/tota11y.js",7)),setTimeout((()=>{var e;null===(e=document.querySelector(".tota11y-toolbar"))||void 0===e||e.classList.add("tota11y-expanded")}),300)),l({colorVisionMode:n,isColorVisionEnabled:r,isTota11yInstalled:!0,isTota11yEnabled:!e})}),[l,n,r,e]),u=d()();return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:u,className:k.tota11yOptions},i.a.createElement(o.a,{id:u,onChange:m,isChecked:e,className:k.checkbox}),i.a.createElement("span",{className:k.label},"Enable Tota11y sidebar")))},y=()=>{const[{isTota11yInstalled:e,isTota11yEnabled:n}]=Object(s.c)(c);return e&&!n?i.a.createElement("style",null,".tota11y { display: none !important }"):null},j=()=>i.a.createElement("div",{className:k.accessibilityMenuWrapper},i.a.createElement(h,null),i.a.createElement(f,null),i.a.createElement("a",{className:k.link,href:"https://hello.atlassian.net/wiki/spaces/TRELLOFE/pages/941672748/20.+Accessibility",target:"_blank"},"Web accessibility guide ",i.a.createElement(r.a,null))),N=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null),i.a.createElement(O,null)),x=(e={})=>{const[n,a]=Object(t.useState)(!1),[i,r]=Object(t.useState)(!1),[o,s]=Object(t.useState)(!1),l=()=>{i&&o||a(!0)};return[n,{onMouseEnter:n=>{r(!0),a(!1),e.onMouseEnter&&e.onMouseEnter(n)},onMouseLeave:n=>{r(!1),a(!1),e.onMouseLeave&&e.onMouseLeave(n)},onMouseDown:n=>{s(!0),a(!1),e.onMouseDown&&e.onMouseDown(n)},onKeyDown:n=>{s(!1),l(),e.onKeyDown&&e.onKeyDown(n)},onKeyUp:n=>{l(),e.onKeyUp&&e.onKeyUp(n)},onBlur:n=>{a(!1),e.onBlur&&e.onBlur(n)}}]}},"./packages/nachos/icons/add-member.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 9.44777 7.61532 10.7518 8.59871 11.6649C5.31433 13.0065 3 16.233 3 20C3 20.5523 3.44772 21 4 21H12C12.5523 21 13 20.5523 13 20C13 19.4477 12.5523 19 12 19H5.07089C5.55612 15.6077 8.47353 13 12 13ZM15 8C15 9.65685 13.6569 11 12 11C10.3431 11 9 9.65685 9 8C9 6.34315 10.3431 5 12 5C13.6569 5 15 6.34315 15 8Z",fill:"currentColor"}),i.a.createElement("path",{d:"M17 14C17 13.4477 17.4477 13 18 13C18.5523 13 19 13.4477 19 14V16H21C21.5523 16 22 16.4477 22 17C22 17.5523 21.5523 18 21 18H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V18H15C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16H17V14Z",fill:"currentColor"})),s=e=>{const{testId:n,dangerous_className:a,size:t,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:n,size:t,dangerous_className:a,color:s,block:d,label:l||"AddMemberIcon",glyph:o})}},"./packages/nachos/icons/private.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 11C5 9.89543 5.89543 9 7 9H8H10H14H16H17C18.1046 9 19 9.89543 19 11V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V11ZM10 11H14H16H17V19H7V11H8H10ZM14 15C14 16.1046 13.1046 17 12 17C10.8954 17 10 16.1046 10 15C10 13.8954 10.8954 13 12 13C13.1046 13 14 13.8954 14 15Z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3817 5.69846C10.0982 6.10344 10 6.63103 10 7V9H8V7C8 6.36897 8.15175 5.39656 8.74327 4.55154C9.37523 3.64874 10.4367 3 12 3C13.5633 3 14.6248 3.64874 15.2567 4.55154C15.8482 5.39656 16 6.36897 16 7V9H14V7C14 6.63103 13.9018 6.10344 13.6183 5.69846C13.3752 5.35126 12.9367 5 12 5C11.0633 5 10.6248 5.35126 10.3817 5.69846Z",fill:"currentColor"})),s=e=>{const{testId:n,dangerous_className:a,size:t,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:n,size:t,dangerous_className:a,color:s,block:d,label:l||"PrivateIcon",glyph:o})}},"./packages/nachos/icons/sparkle.tsx":function(e,n,a){"use strict";a.d(n,"a",(function(){return s}));var t=a("./node_modules/react/index.js"),i=a.n(t),r=a("./packages/nachos/src/components/Icon/index.ts");const o=()=>i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("path",{d:"M8 2L7 7L2 8L7 9L8 14L9 9L14 8L9 7L8 2Z",fill:"currentColor"}),i.a.createElement("path",{d:"M17 11L18 8L19 11L22 12L19 13L18 16L17 13L14 12L17 11Z",fill:"currentColor"}),i.a.createElement("path",{d:"M11 17L12 14L13 17L16 18L13 19L12 22L11 19L8 18L11 17Z",fill:"currentColor"})),s=e=>{const{testId:n,dangerous_className:a,size:t,color:s,label:l,block:d}=e;return i.a.createElement(r.a,{testId:n,size:t,dangerous_className:a,color:s,block:d,label:l||"SparkleIcon",glyph:o})}},"./resources/images/bc-sparkle-flat.svg":function(e,n,a){e.exports=a.p+"images/bc-sparkle-flat.a161cac3b4a9fe3e9b99.svg"},"./resources/images/migration-wizard/simple-path-done.svg":function(e,n,a){e.exports=a.p+"images/migration-wizard/simple-path-done.6ba985fbca73417c6ff1.svg"},"./resources/images/migration-wizard/start-board-migration.png":function(e,n,a){e.exports=a.p+"images/migration-wizard/start-board-migration.dbbeecc8541012b6aba2.png"}}]);
//# sourceMappingURL=migration-wizard.f771d9b16978c3dafc00.js.map